# CDN サービス詳細比較

> 作成日: 2026-02-06
> 最終更新: 2026-02-06

## 1. 概要

エンジンバイナリ (WASM) を配布するための CDN サービスを詳細に比較します。

### 前提条件

| 項目                    | 値       |
| ----------------------- | -------- |
| Stockfish WASM サイズ   | ~5 MB    |
| Worker JS サイズ        | ~10 KB   |
| 1ダウンロードあたり合計 | ~5.01 MB |

---

## 2. 無料 CDN サービス

### 2.1 Cloudflare R2

| 項目                        | 無料枠         | 超過料金      |
| --------------------------- | -------------- | ------------- |
| **ストレージ**              | 10 GB/月       | $0.015/GB     |
| **Class A 操作** (書き込み) | 100万回/月     | $4.50/100万回 |
| **Class B 操作** (読み取り) | 1000万回/月    | $0.36/100万回 |
| **エグレス (転送量)**       | **無制限無料** | **$0**        |

#### コスト試算 (Cloudflare R2)

| ダウンロード数/月 | 転送量 | ストレージ | 読み取り操作 | 月額コスト |
| ----------------- | ------ | ---------- | ------------ | ---------- |
| 1,000             | 5 GB   | 5 GB       | 1,000        | **$0**     |
| 10,000            | 50 GB  | 5 GB       | 10,000       | **$0**     |
| 100,000           | 500 GB | 5 GB       | 100,000      | **$0**     |
| 1,000,000         | 5 TB   | 5 GB       | 1,000,000    | **$0**     |

**評価**: ⭐⭐⭐⭐⭐ エグレス無料のため、大規模でもコストゼロ

---

### 2.2 jsDelivr

| 項目               | 制限                   |
| ------------------ | ---------------------- |
| **転送量**         | 無制限                 |
| **ファイルサイズ** | 50 MB/ファイル         |
| **ソース**         | npm, GitHub, WordPress |
| **キャッシュ**     | 長期キャッシュ         |

#### 利用方法

```text
# npm パッケージから
https://cdn.jsdelivr.net/npm/@engine-binaries/stockfish@16.1/stockfish.wasm

# GitHub Releases から
https://cdn.jsdelivr.net/gh/user/stockfish-wasm@v16.1/stockfish.wasm
```

#### コスト試算 (jsDelivr)

| ダウンロード数/月 | 転送量 | 月額コスト |
| ----------------- | ------ | ---------- |
| 任意              | 任意   | **$0**     |

**評価**: ⭐⭐⭐⭐⭐ 完全無料、ただしカスタム API 不可

---

### 2.3 unpkg

| 項目               | 制限           |
| ------------------ | -------------- |
| **転送量**         | 無制限         |
| **ファイルサイズ** | 制限なし       |
| **ソース**         | npm のみ       |
| **キャッシュ**     | 長期キャッシュ |

#### 利用方法

```text
https://unpkg.com/@engine-binaries/stockfish@16.1/stockfish.wasm
```

#### コスト試算 (unpkg)

| ダウンロード数/月 | 転送量 | 月額コスト |
| ----------------- | ------ | ---------- |
| 任意              | 任意   | **$0**     |

**評価**: ⭐⭐⭐⭐ 完全無料、npm 公開が必要

---

### 2.4 GitHub Releases

| 項目               | 制限                      |
| ------------------ | ------------------------- |
| **ストレージ**     | 無制限 (リポジトリあたり) |
| **ファイルサイズ** | 2 GB/ファイル             |
| **転送量**         | 無制限 (合理的な使用範囲) |
| **レート制限**     | あり (大規模利用時)       |

#### 利用方法

```text
https://github.com/user/stockfish-wasm/releases/download/v16.1/stockfish.wasm
```

#### コスト試算 (GitHub Releases)

| ダウンロード数/月 | 転送量  | 月額コスト            |
| ----------------- | ------- | --------------------- |
| ~100,000          | ~500 GB | **$0**                |
| 1,000,000+        | 5+ TB   | ⚠️ レート制限の可能性 |

**評価**: ⭐⭐⭐⭐ 無料、大規模利用時に制限の可能性

---

### 2.5 Vercel Edge Network

| 項目               | 無料枠 (Hobby) | Pro ($20/月)   |
| ------------------ | -------------- | -------------- |
| **帯域幅**         | 100 GB/月      | 1 TB/月        |
| **超過料金**       | $0.15/GB       | $0.15/GB       |
| **ファイルサイズ** | 50 MB/ファイル | 50 MB/ファイル |

#### コスト試算 (Vercel Hobby)

| ダウンロード数/月 | 転送量 | 月額コスト          |
| ----------------- | ------ | ------------------- |
| 1,000             | 5 GB   | **$0**              |
| 10,000            | 50 GB  | **$0**              |
| 20,000            | 100 GB | **$0**              |
| 100,000           | 500 GB | **$60** (400GB超過) |

**評価**: ⭐⭐⭐ 小規模無料、大規模は高コスト

---

### 2.6 Netlify

| 項目         | 無料枠    | Pro ($19/月) |
| ------------ | --------- | ------------ |
| **帯域幅**   | 100 GB/月 | 1 TB/月      |
| **超過料金** | $0.20/GB  | $0.20/GB     |

#### コスト試算 (Netlify Free)

| ダウンロード数/月 | 転送量 | 月額コスト          |
| ----------------- | ------ | ------------------- |
| 1,000             | 5 GB   | **$0**              |
| 10,000            | 50 GB  | **$0**              |
| 20,000            | 100 GB | **$0**              |
| 100,000           | 500 GB | **$80** (400GB超過) |

**評価**: ⭐⭐⭐ Vercel と同様、大規模で高コスト

---

## 3. 有料 CDN サービス

### 3.1 Bunny CDN

| 項目                | 料金        |
| ------------------- | ----------- |
| **転送量 (アジア)** | $0.03/GB    |
| **転送量 (欧米)**   | $0.01/GB    |
| **転送量 (平均)**   | ~$0.012/GB  |
| **ストレージ**      | $0.01/GB/月 |
| **最低料金**        | $1/月       |

#### コスト試算 (Bunny CDN)

| ダウンロード数/月 | 転送量 | ストレージ | 月額コスト      |
| ----------------- | ------ | ---------- | --------------- |
| 1,000             | 5 GB   | 5 GB       | **$1** (最低)   |
| 10,000            | 50 GB  | 5 GB       | **$1** (≈$0.65) |
| 100,000           | 500 GB | 5 GB       | **$6.05**       |
| 1,000,000         | 5 TB   | 5 GB       | **$60.05**      |

**評価**: ⭐⭐⭐⭐ 低コスト、大規模でもリーズナブル

---

### 3.2 AWS S3 + CloudFront

| 項目                      | 料金                  |
| ------------------------- | --------------------- |
| **S3 ストレージ**         | $0.023/GB/月          |
| **S3 GET リクエスト**     | $0.0004/1000          |
| **CloudFront 転送量**     | $0.085/GB (最初 10TB) |
| **CloudFront リクエスト** | $0.0075/10000         |

#### コスト試算 (AWS CloudFront)

| ダウンロード数/月 | 転送量 | ストレージ | リクエスト | 月額コスト  |
| ----------------- | ------ | ---------- | ---------- | ----------- |
| 1,000             | 5 GB   | 5 GB       | 1,000      | **$0.55**   |
| 10,000            | 50 GB  | 5 GB       | 10,000     | **$4.38**   |
| 100,000           | 500 GB | 5 GB       | 100,000    | **$42.63**  |
| 1,000,000         | 5 TB   | 5 GB       | 1,000,000  | **$425.20** |

**評価**: ⭐⭐⭐ 信頼性高いが高コスト

---

### 3.3 Google Cloud CDN

| 項目                       | 料金              |
| -------------------------- | ----------------- |
| **Cloud Storage**          | $0.020/GB/月      |
| **CDN 転送量 (北米/欧州)** | $0.08/GB          |
| **CDN 転送量 (アジア)**    | $0.12/GB          |
| **キャッシュ無効化**       | $0.005/リクエスト |

#### コスト試算 (Google Cloud CDN)

| ダウンロード数/月 | 転送量 | 月額コスト  |
| ----------------- | ------ | ----------- |
| 1,000             | 5 GB   | **$0.60**   |
| 10,000            | 50 GB  | **$5.10**   |
| 100,000           | 500 GB | **$50.10**  |
| 1,000,000         | 5 TB   | **$500.10** |

**評価**: ⭐⭐⭐ AWS CloudFront と同等

---

### 3.4 DigitalOcean Spaces + CDN

| 項目           | 料金                |
| -------------- | ------------------- |
| **ストレージ** | $5/月 (250 GB 含む) |
| **転送量**     | $5/月 (1 TB 含む)   |
| **超過転送量** | $0.01/GB            |

#### コスト試算 (DigitalOcean)

| ダウンロード数/月 | 転送量 | 月額コスト |
| ----------------- | ------ | ---------- |
| 1,000             | 5 GB   | **$5**     |
| 10,000            | 50 GB  | **$5**     |
| 100,000           | 500 GB | **$5**     |
| 200,000           | 1 TB   | **$5**     |
| 1,000,000         | 5 TB   | **$45**    |

**評価**: ⭐⭐⭐⭐ 固定料金で予測しやすい

---

## 4. 総合比較表

### 4.1 月間 10,000 ダウンロード (50 GB) の場合

| サービス            | 月額コスト | 評価       |
| ------------------- | ---------- | ---------- |
| **Cloudflare R2**   | **$0**     | ⭐⭐⭐⭐⭐ |
| **jsDelivr**        | **$0**     | ⭐⭐⭐⭐⭐ |
| **unpkg**           | **$0**     | ⭐⭐⭐⭐⭐ |
| **GitHub Releases** | **$0**     | ⭐⭐⭐⭐   |
| Vercel (Hobby)      | $0         | ⭐⭐⭐     |
| Netlify (Free)      | $0         | ⭐⭐⭐     |
| Bunny CDN           | $1         | ⭐⭐⭐⭐   |
| DigitalOcean        | $5         | ⭐⭐⭐     |
| AWS CloudFront      | $4.38      | ⭐⭐⭐     |
| Google Cloud CDN    | $5.10      | ⭐⭐⭐     |

### 4.2 月間 100,000 ダウンロード (500 GB) の場合

| サービス            | 月額コスト | 評価       |
| ------------------- | ---------- | ---------- |
| **Cloudflare R2**   | **$0**     | ⭐⭐⭐⭐⭐ |
| **jsDelivr**        | **$0**     | ⭐⭐⭐⭐⭐ |
| **unpkg**           | **$0**     | ⭐⭐⭐⭐⭐ |
| **GitHub Releases** | **$0**     | ⭐⭐⭐⭐   |
| Bunny CDN           | $6         | ⭐⭐⭐⭐   |
| DigitalOcean        | $5         | ⭐⭐⭐⭐   |
| AWS CloudFront      | $43        | ⭐⭐       |
| Google Cloud CDN    | $50        | ⭐⭐       |
| Vercel (Hobby)      | $60        | ⭐         |
| Netlify (Free)      | $80        | ⭐         |

### 4.3 月間 1,000,000 ダウンロード (5 TB) の場合

| サービス          | 月額コスト | 評価       |
| ----------------- | ---------- | ---------- |
| **Cloudflare R2** | **$0**     | ⭐⭐⭐⭐⭐ |
| **jsDelivr**      | **$0**     | ⭐⭐⭐⭐⭐ |
| DigitalOcean      | $45        | ⭐⭐⭐⭐   |
| Bunny CDN         | $60        | ⭐⭐⭐⭐   |
| AWS CloudFront    | $425       | ⭐⭐       |
| Google Cloud CDN  | $500       | ⭐⭐       |

---

## 5. 機能比較

| サービス        | カスタムドメイン | カスタム API     | SRI 対応 | 統計 | グローバル分散 |
| --------------- | ---------------- | ---------------- | -------- | ---- | -------------- |
| Cloudflare R2   | ✅               | ✅ (Workers)     | ✅       | ✅   | ✅             |
| jsDelivr        | ❌               | ❌               | 手動     | ❌   | ✅             |
| unpkg           | ❌               | ❌               | 手動     | ❌   | ✅             |
| GitHub Releases | ❌               | ❌               | 手動     | ✅   | ✅             |
| Bunny CDN       | ✅               | ✅               | ✅       | ✅   | ✅             |
| AWS CloudFront  | ✅               | ✅ (Lambda@Edge) | ✅       | ✅   | ✅             |
| DigitalOcean    | ✅               | ❌               | ✅       | ✅   | ⚠️ (限定)      |

---

## 6. 推奨構成

### 6.1 推奨構成（プロジェクト戦略に基づく）

詳細な実装フェーズについては [stockfish-wasm-strategy.md](../../docs/implementation_plans/stockfish-wasm-strategy.md) および [ADR-016](../../docs/adr/016-two-stage-release.md) を参照してください。

#### Phase 1: 即時導入（ゼロ運用コスト）

| 役割         | サービス | 理由               |
| ------------ | -------- | ------------------ |
| **Primary**  | jsDelivr | 完全無料、設定不要 |
| **Fallback** | unpkg    | 冗長性確保         |

#### Phase 2: カスタム運用（機能を拡張する場合）

| 役割        | サービス      | 理由                  |
| ----------- | ------------- | --------------------- |
| **Primary** | Cloudflare R2 | カスタムドメイン、API |
| **Mirror**  | jsDelivr      | コミュニティアクセス  |

### 6.2 大規模 (月間 1,000,000+ DL)

| 役割             | サービス      | 理由                   |
| ---------------- | ------------- | ---------------------- |
| **プライマリ**   | Cloudflare R2 | スケール時も無料       |
| **バックアップ** | Bunny CDN     | 低コストで高信頼性     |
| **ミラー**       | jsDelivr      | コミュニティアクセス用 |

---

## 7. 結論

### 🏆 最優秀: Cloudflare R2

- エグレス完全無料 → 規模に関係なく $0
- Workers と組み合わせてカスタム API 構築可能
- グローバル分散、高速

### 🥈 次点: jsDelivr

- npm/GitHub と連携で設定簡単
- 完全無料
- カスタマイズ性に制限

### 💡 推奨戦略

**Cloudflare R2 をプライマリ + jsDelivr をミラー**として運用し、コストゼロを維持しながら冗長性を確保する。
