# ADR-034: UI パッケージの完全モジュール化と管理ツールの分離

## ステータス

承認済み (Accepted)

## コンテキスト

プロジェクトの拡大に伴い、`ui-react` や `ui-vue` といった「ハブ」パッケージが肥大化し、以下の課題が生じていました。

1.  **依存関係の混入**: 特定のゲーム（例: チェスのみ）を使用したいユーザーにも、将棋のドメインロジックや監視パネルの依存関係が引き込まれる。
2.  **アーキテクチャの汚染**: UI の基盤（Core）部分が、上位の管理ツール（MonitorPanel）や個別ドメインの実装詳細を知ってしまっている。
3.  **商標リスク**: `Othello` という名称が広範囲に使用されており、法的な懸念がある。

## 意思決定

UI 層を以下の 3 つの責任レイヤーに物理的に分離し、それぞれを独立したパッケージとして提供します。

1.  **基盤レイヤー (`ui-*-core`)**: フレームワークごとの Context/Provider のみを提供。ドメインやツールには一切依存しない。
2.  **ツールレイヤー (`ui-*-monitor`)**: エンジン監視・制御用の共通コンポーネント（MonitorPanel, PVList 等）を提供。
3.  **ゲームレイヤー (`ui-*-game`, `ui-chess-react` 等)**: 各ゲーム固有の UI 部品を提供。

また、商標侵害を避けるため `Othello` 関連の全ての呼称を `Reversi` に統一します。

## 帰結

- **究極の Pay-as-you-go**: 利用者は必要なパッケージのみを選択的にインストールでき、バンドルサイズと依存関係を最小化できる。
- **クリーンな依存グラフ**: 下位レイヤーが上位レイヤーの実装を知ることを物理的に禁止し、アーキテクチャの整合性を強制する。
- **高い利便性の維持**: `ui-react` / `ui-vue` を「ハブ」として残し、全てのサブモジュールを再エクスポートすることで、既存ユーザーの移行コストを抑える。
- **法的安全性の確保**: `Reversi` への統一により商標問題を解消。
