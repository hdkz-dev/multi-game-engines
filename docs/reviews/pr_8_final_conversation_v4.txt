author:	coderabbitai
association:	none
edited:	true
status:	none
--
<!-- This is an auto-generated comment: summarize by coderabbit.ai -->
<!-- This is an auto-generated comment: review paused by coderabbit.ai -->

> [!NOTE]
> ## Reviews paused
> 
> It looks like this branch is under active development. To avoid overwhelming you with review comments due to an influx of new commits, CodeRabbit has automatically paused this review. You can configure this behavior by changing the `reviews.auto_review.auto_pause_after_reviewed_commits` setting.
> 
> Use the following commands to manage reviews:
> - `@coderabbitai resume` to resume automatic reviews.
> - `@coderabbitai review` to trigger a single review.
> 
> Use the checkboxes below for quick actions:
> - [ ] <!-- {"checkboxId": "7f6cc2e2-2e4e-497a-8c31-c9e4573e93d1"} --> â–¶ï¸ Resume reviews
> - [ ] <!-- {"checkboxId": "e9bb8d72-00e8-4f67-9cb2-caf3b22574fe"} --> ğŸ” Trigger review

<!-- end of auto-generated comment: review paused by coderabbit.ai -->
<!-- configuration_strict_warnings_start -->

> [!NOTE]
> ### `.coderabbit.yaml` has unrecognized properties
> 
> CodeRabbit is using all valid settings from your configuration. Unrecognized properties (listed below) have been ignored and may indicate typos or deprecated fields that can be removed.
> 
> <details>
> <summary>âš ï¸ Parsing warnings (1)</summary>
> 
> ```
> Validation error: Unrecognized key(s) in object: 'instructions'
> ```
> 
> </details>
> 
> <details>
> <summary>âš™ï¸ Configuration instructions</summary>
> 
> - Please see the [configuration documentation](https://docs.coderabbit.ai/guides/configure-coderabbit) for more information.
> - You can also validate your configuration using the [online YAML validator](https://docs.coderabbit.ai/configuration/yaml-validator).
> - If your editor has YAML language server enabled, you can add the path at the top of this file to enable auto-completion and validation: `# yaml-language-server: $schema=https://coderabbit.ai/integrations/schema.v2.json`
> 
> </details>

<!-- configuration_strict_warnings_end -->

<!-- walkthrough_start -->

<details>
<summary>ğŸ“ Walkthrough</summary>

## Walkthrough

CI ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¿½åŠ ã€äºŒè¨€èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ‹¡å¼µã€ã‚¨ãƒ³ã‚¸ãƒ³ç®¡ç†ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆBaseAdapter/EngineBridge/EngineFacade/EngineLoader/WorkerCommunicator ç­‰ï¼‰ã€UCI ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ‘ãƒ¼ã‚µã€OPFS/IndexedDB ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€Stockfish ã‚¢ãƒ€ãƒ—ã‚¿ã®ã‚¯ãƒ©ã‚¹åŒ–ã€ãŠã‚ˆã³å¤šæ•°ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨ã‚µãƒ³ãƒ—ãƒ«ã‚’å°å…¥ã—ã¦ã„ã¾ã™ã€‚

## Changes

|Cohort / File(s)|Summary|
|---|---|
|**CI / Build** <br> `\.github/workflows/ci.yml`|pnpm ã‚­ãƒ£ãƒƒã‚·ãƒ¥å«ã‚€ Node.js 22.x ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã® GitHub Actions CI ã‚’è¿½åŠ ï¼ˆinstallã€lintã€buildã€testï¼‰ã€‚|
|**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ & ä¾‹** <br> `README.md`, `CONTRIBUTING.md`, `docs/...`, `examples/simple-chess/index.html`|README/CONTRIBUTING ã‚’æ—¥è‹±äºŒè¨€èªåŒ–ã€ARCHITECTURE/TECHNICAL_SPECS/PROGRESS/TASKS/ADR ç­‰ã‚’è¿½åŠ ãƒ»æ›´æ–°ã€‚Stockfish WASM ãƒ‡ãƒ¢ HTML ã‚’è¿½åŠ ã€‚|
|**PR ãƒ¬ãƒ“ãƒ¥ãƒ¼è³‡ç”£** <br> `docs/reviews/*.json`, `docs/reviews/pr_review_comments.md`|package.json ã® ESM æŒ‡æ‘˜ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®‰å…¨æ€§æŒ‡æ‘˜ã€exit ã‚³ãƒ¼ãƒ‰ææ¡ˆãªã©ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã¨é›†ç´„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã€‚|
|**ã‚³ã‚¢ - ã‚¢ãƒ€ãƒ—ã‚¿åŸºç›¤** <br> `packages/core/src/adapters/BaseAdapter.ts`, `packages/core/src/adapters/index.ts`|æ±ç”¨ BaseAdapter ã‚’è¿½åŠ ï¼šçŠ¶æ…‹/é€²æ—/ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªè³¼èª­ã€searchâ†’searchRaw ã®å§”è­²ã€ãƒªã‚¹ãƒŠç®¡ç†ã‚’å®Ÿè£…ã€‚|
|**ã‚³ã‚¢ - ãƒ–ãƒªãƒƒã‚¸ & ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰** <br> `packages/core/src/bridge/...`|EngineBridgeï¼EngineFacadeï¼EngineLoader ã‚’è¿½åŠ ã€‚ã‚¢ãƒ€ãƒ—ã‚¿ç™»éŒ²ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã€SRI æ¤œè¨¼ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»Blob URL ç®¡ç†ã‚’å®Ÿè£…ã€‚|
|**èƒ½åŠ›æ¤œå‡º & ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** <br> `packages/core/src/capabilities/*`|CapabilityDetector ã¨ SecurityAdvisor ã‚’è¿½åŠ ã— OPFS/WASM Threads/SIMD/WebNN/WebGPU/WebTransport ã®æ¤œå‡ºã€SRI æ¤œè¨¼ãƒ»å®‰å…¨ãª fetch ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æä¾›ã€‚|
|**ã‚¨ãƒ©ãƒ¼ & å‹å®šç¾©** <br> `packages/core/src/errors/EngineError.ts`, `packages/core/src/types.ts`, `packages/core/src/index.ts`|EngineError ã‚’è¿½åŠ ã€‚IEngine/IEngineAdapter/IEngineLoader/IFileStorage ç­‰ã®å‹æ‹¡å¼µã¨å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’è¿½åŠ ã€‚|
|**ãƒ—ãƒ­ãƒˆã‚³ãƒ«** <br> `packages/core/src/protocols/UCIParser.ts`, `packages/core/src/protocols/index.ts`|UCIParser ã‚’è¿½åŠ ï¼ˆinfo/bestmove è§£æã€search/stop ã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆï¼‰ã€‚|
|**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** <br> `packages/core/src/storage/OPFSStorage.ts`, `.../IndexedDBStorage.ts`, `.../index.ts`|OPFS ãƒ™ãƒ¼ã‚¹æ°¸ç¶šåŒ–ã¨ IndexedDB ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…ã€èƒ½åŠ›ã«åŸºã¥ãã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¯ãƒˆãƒªã‚’è¿½åŠ ã€‚|
|**ãƒ¯ãƒ¼ã‚«ãƒ¼é€šä¿¡** <br> `packages/core/src/workers/WorkerCommunicator.ts`, `packages/core/src/workers/index.ts`|Worker ã® spawn/postMessage/expectMessage/onMessage/terminate ã‚’æ‰±ã† WorkerCommunicator ã‚’è¿½åŠ ã€‚|
|**Stockfish ã‚¢ãƒ€ãƒ—ã‚¿** <br> `packages/adapter-stockfish/src/stockfish.ts`|metadata ã‹ã‚‰ã‚¯ãƒ©ã‚¹ãƒ™ãƒ¼ã‚¹ StockfishAdapter ã«ç§»è¡Œã€‚load/searchRaw/disposeã€Worker é€šä¿¡ã€UCI åˆæœŸåŒ–ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†ã‚’å®Ÿè£…ã€‚|
|**ãƒ†ã‚¹ãƒˆ** <br> `packages/core/src/__tests__/*`|BaseAdapterã€CapabilityDetectorã€EngineBridgeã€EngineErrorã€EngineLoaderã€FileStorageã€SecurityAdvisorã€UCIParserã€WorkerCommunicator ç­‰ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å¤šæ•°è¿½åŠ ã€‚|

## Sequence Diagram(s)

```mermaid
sequenceDiagram
    autonumber
    actor User
    participant Bridge as EngineBridge
    participant Facade as EngineFacade
    participant Adapter as StockfishAdapter
    participant Loader as EngineLoader
    participant Storage as FileStorage
    participant Comm as WorkerCommunicator
    participant Worker as Web\ Worker

    User->>Bridge: registerAdapter(adapter)
    User->>Bridge: getEngine("stockfish")
    Bridge->>Facade: create(adapter)

    User->>Facade: load()
    Facade->>Bridge: getLoader()
    Bridge->>Loader: init(storage)

    Facade->>Adapter: load(loader)
    Adapter->>Loader: loadResource(id, config)
    Loader->>Storage: get(cacheKey)
    alt cached
        Storage-->>Loader: ArrayBuffer
    else fetch
        Loader->>Loader: fetch + SRI validate
        Loader->>Storage: set(cacheKey, data)
    end
    Loader-->>Adapter: BlobURL

    Adapter->>Comm: spawn(blobUrl)
    Comm->>Worker: new Worker(blobUrl)
    Adapter->>Comm: postMessage("uci")
    Worker-->>Comm: "id name ..."
    Comm-->>Adapter: message
    Adapter->>Facade: emitStatus("ready")

    User->>Facade: search(options)
    Facade->>Adapter: searchRaw(command)
    Adapter->>Comm: postMessage(command)
    loop searching
        Worker-->>Comm: "info ..."
        Comm-->>Adapter: info
        Adapter->>Facade: stream info
    end
    Worker-->>Comm: "bestmove ..."
    Comm-->>Adapter: result
    Adapter->>Facade: resolve(result)
    Facade-->>User: search result
```

## Estimated code review effort

ğŸ¯ 4 (Complex) | â±ï¸ ~75 minutes

## Possibly related PRs

- hdkz-dev/multi-game-engines#7: Stockfish ã‚¢ãƒ€ãƒ—ã‚¿é–¢é€£ï¼ˆmetadata â†’ class ã¸ã®ç§»è¡Œï¼‰ã§å®Ÿè£…è¡çªã®å¯èƒ½æ€§ãŒé«˜ã„ã€‚  
- hdkz-dev/multi-game-engines#6: ã‚³ã‚¢ã®å‹ï¼ã‚¢ãƒ€ãƒ—ã‚¿è¨­è¨ˆå¤‰æ›´ï¼ˆIEngineAdapter ç­‰ï¼‰ãŒé‡è¤‡ã—ã¦ã„ã‚‹ãŸã‚é–¢é€£ã€‚  
- hdkz-dev/multi-game-engines#3: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŠã‚ˆã³ core export/type ã®æ‹¡å¼µãŒé‡è¤‡ã—ã¦ã„ã‚‹ãŸã‚é–¢é€£ã€‚

</details>

<!-- walkthrough_end -->

<!-- pre_merge_checks_walkthrough_start -->

<details>
<summary>ğŸš¥ Pre-merge checks | âœ… 3</summary>

<details>
<summary>âœ… Passed checks (3 passed)</summary>

|     Check name     | Status   | Explanation                                                                                                                                                                                               |
| :----------------: | :------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|  Description Check | âœ… Passed | Check skipped - CodeRabbitâ€™s high-level summary is enabled.                                                                                                                                               |
|     Title check    | âœ… Passed | ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã€ŒComplete Core Framework and Stockfish Adapter Implementationã€ã¯ã€å¤‰æ›´ã‚»ãƒƒãƒˆã®ä¸»è¦ãªå†…å®¹ã‚’æ­£ç¢ºã«è¦ç´„ã—ã¦ã„ã¾ã™ã€‚ã‚³ã‚¢ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆEngineBridgeã€EngineFacadeã€EngineLoaderç­‰ï¼‰ã¨Stockfishã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã®å®Ÿè£…ã¨ã„ã†ã€ã“ã®PRã®ä¸­å¿ƒçš„ãªç›®çš„ã‚’æ˜ç¢ºã«åæ˜ ã—ã¦ã„ã¾ã™ã€‚ |
| Docstring Coverage | âœ… Passed | Docstring coverage is 100.00% which is sufficient. The required threshold is 80.00%.                                                                                                                      |

</details>

<sub>âœï¸ Tip: You can configure your own custom pre-merge checks in the settings.</sub>

</details>

<!-- pre_merge_checks_walkthrough_end -->

<!-- finishing_touch_checkbox_start -->

<details>
<summary>âœ¨ Finishing touches</summary>

<details>
<summary>ğŸ§ª Generate unit tests (beta)</summary>

- [ ] <!-- {"checkboxId": "f47ac10b-58cc-4372-a567-0e02b2c3d479", "radioGroupId": "utg-output-choice-group-unknown_comment_id"} -->   Create PR with unit tests
- [ ] <!-- {"checkboxId": "07f1e7d6-8a8e-4e23-9900-8731c2c87f58", "radioGroupId": "utg-output-choice-group-unknown_comment_id"} -->   Post copyable unit tests in a comment
- [ ] <!-- {"checkboxId": "6ba7b810-9dad-11d1-80b4-00c04fd430c8", "radioGroupId": "utg-output-choice-group-unknown_comment_id"} -->   Commit unit tests in branch `feature/complete-core-framework-and-stockfish-adapter`

</details>

</details>

<!-- finishing_touch_checkbox_end -->

<!-- tips_start -->

---

Thanks for using [CodeRabbit](https://coderabbit.ai?utm_source=oss&utm_medium=github&utm_campaign=hdkz-dev/multi-game-engines&utm_content=8)! It's free for OSS, and your support helps us grow. If you like it, consider giving us a shout-out.

<details>
<summary>â¤ï¸ Share</summary>

- [X](https://twitter.com/intent/tweet?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A&url=https%3A//coderabbit.ai)
- [Mastodon](https://mastodon.social/share?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A%20https%3A%2F%2Fcoderabbit.ai)
- [Reddit](https://www.reddit.com/submit?title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&text=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code.%20Check%20it%20out%3A%20https%3A//coderabbit.ai)
- [LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fcoderabbit.ai&mini=true&title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&summary=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code)

</details>

<sub>Comment `@coderabbitai help` to get the list of available commands and usage tips.</sub>

<!-- tips_end -->

<!-- internal state start -->


<!-- DwQgtGAEAqAWCWBnSTIEMB26CuAXA9mAOYCmGJATmriQCaQDG+Ats2bgFyQAOFk+AIwBWJBrngA3EsgEBPRvlqU0AgfFwA6NPEgQAfACgjoCEYDEZyAAUASpETZWaCrKPR1AGxJcAwi25eNJB+FCSQAGJUbADu+BQA1ugY9ADKBAzxAGZIsJAAgrRo3DR8AJLMASRsGLjU8PhYABS2kGYAHACUkJAGKfjYFAzekJkk1AMkAPRMFYEkYEyhYJlRJLEJYJi0YIjpWTmbhcWUkIBJhDDOpJyQzNpYPQCqiJRcsLTxAF5gShKQgCgEwVC1DoXAATAAGUEANjAkLAAEZ4dBwW0OOCACxogDMAC1/pA0uNEFx8NwyPiHjYADKvXC4bjEyaTIjqWDYAQaGaTN6fb4kCSTZjYDziYhoNhgMgs8iISbcYUeSZtNwIZAteCzKrsZC4WBhRZhFbitZxRJbSC6w3wCi7SBS+DkdBHEojOIWvU3YWiojGyUYaXSHgUfAiMQaSAAaRI8gYsEwpGJBigIUNq3WiRm3Aa2pQmuqNFoXAAov6HSQAEIUeC0UgAGkgJYD4TQDDQSnrjbLVPwbco9Z8RRU8A86lkABESDQxHF6ylRANRwUJEgZ5AAOqmyh+VjYDDwVsECj183hYckNJxNCkSCNB0MDzYWgOoiQADyVnCKUmpWSJAAHnQY7lvY2DcFmFC4B0GhJg2paOm2RQlFwF4ZNkiCwAUiEnBqlT5nQkDYIgz7BGOAByYACGgzz0B4PZPv6ST0A8PilEG+DpPgHggWBcSaDB0CyGS9hoKMuDyDhwZSPmyAtsGiA6h6TBKJRzxcKEtDYEM9CEWE+CZEk8jmru8DZPhlDBnwcbJCODHLmgsEBkWFAWdBUDQNI4j+mCoIEXuuAWh5Mm0Eo9BMFIVYMbcQhupm2Y1IgADc6AeFxoI+TQuzINwVHUa5kBjvgDCOOwdQNFwABSg4ymE5qNiO6GQLQhXFTUpVYKBhQFox9iyBgsbBnuHx0HlLGTD4Y5cAA4uoAAS7L5GI9QYMgTAYNkRATPQmRumgeAsMCNEOp5RD1gI2DDvRJ3dRlx3QQYABqlAmfubWQKEDgisgoTgQWXA3VlOV0PWNnHd1Z0XSBDBDHQQOQGoNkbWgXFNUV+avYgvX9Q08BDbQd0WMELDMOoNzSIgV6Bg4TguEYUCjNQjQGh0XAbgkW5E8ZB5umQVlaX8bYhXaf5kmIACyZMUxaGokP0/nmnkAi8Sk8BEBgSPcT99a8Py7D4UKIrwJUb3SJxeBLcg218PZRH+l4pPyRTx7BfhuAuAs1CxmxU7iA0rp8GwDvXtrT4HtI9biEQsA0OQ9BiWSyCNJg8jnLu8QYPg0QYB0x7JE6gv/X7UtsLL3Wtn1JApW1eXZH+jShMuazM8ErEtj77XcEQVCC403AYNwzCTK3S07JOoFnJAEjoh0SU12ZzkxS2CD+pMoSu/IAgkHGy5ug6b4fikF5UNetVwRWVY1iQSX3s4z34SkNisdAr5jq+KBYCh+zoZhxwUEloTMPgKQ9AABE25iKIHwA0YBIxgzMEgDYIseQxyiyLHdfQxhwBQDIPQPSOACDEDIMoLqMx8xcF4PwYQohxBSBkDGRQyhVDqC0DodBJg3KqhQDJLAu18GkHIFQYhRN2BqTQNEEC1N150KUFQRhmhtC6DAIYDBpgDAaBZLqdkkx0yZFotEWUDB4AaFkMwDwHADDAIsQYAmeRSgEP4QdcRtwXD8H0rGeM0gjAFFoDJSA01cBzQEAtNuyBtG6PQP5NRrJNGhIzvowxxiuIEDeruZukBoisnQJAUi9CNBCGQGlDQf4bjUCrH+cMcAwgxLEbGUQ8RkAlyUiQesq11oTGQNkpQuTED1gdLsJGHguGhUXoGXu/dGokDJL+Pq8BAy3j6g+S6CgKhmwYpaHgfc4G7DiGEbKupS6L2IuobOyTlrjMmUoPq4llq1Erm3YGR1nw53oODDw3jJgF0thaWIPAWzxApsSSAAABfW3pfT2hlNMbZN4Xn0HNDdLo5pgVengGKCU4LpCD2dJQHYew0K5EaDCqCkAfz3kfIGeyJD2CQHTqDXU1ACS4pyE6LCfAC7ODCDSxgAxQg1A8PIbWzwajdVuOvGqzsaLAgoPjSweQRREPNhafA7owhKGvgIhVuD/w/Xwm6eUAgRwMDtDUdQMzEBGGyTwdkBrJhat4vhVVHhnBtRCZQGqcr1LSsgKLTAJkPIRDPPkNWfKhoUHNa+UiRYjBGGKdFCgAB9DqwIzUGCpGWFaVlSCFkgAAagAKwAE5JiwnMZYpMKifDhugA/csDxoClFIpNDQzBCwluAVYmVti+FEPwlTJx8hcFuP9B4mCP5XaKE0oGeGz5sDq0aJVbK1VJh1RyAijANLnWFzWX4GoVYzqg0mudJQZjuhuU8ByjOb9SVKB8YgR16ER7ZQEfhZdDUSAAEdzoSCRuwaCJ78o61ov3KlrMshhOeItX26cxF3gWeSrAL7ciu0wLequBg/1FkXvYGg3AXHKrSaaHRF6oOXtg8gcqVgl2kUgI6jeXhDoyl/boGAikeFLWpexMIiaupJJg2SuG7Fcjke6kWKj+rCp1PrOkvZWqDUk0ADgE2SaCAFwCSAeo2zEXNFO/0M6uKrWjnxKAFrB0JkVdR/ALJDUxQaGOrihHohX2s1S4z5LMijDEMbBCU6xLdVoq2EcHw2r1k5bwczUQ4abzQNvKVUbaZZKVbaiCOq+B6oNeMtVG7oiupuIoW+eMjCpplIwDNIIc3wixEWgA7EYIsuwNQOMacbBuYiSCud4lwcWT5HCttpiohBSCUFNpbRYtt1jO2EKffQXtzh+2uOK8mip8DEHINQc23y0jMtCutuyPpxr1ZacRrpxzQrQjRCrEEc04G25CwXURBo4YfBzZI2SsxUBR3Bg0hBjAXABb4X2zp1TYxpFpIyUJ2qVGaMVwtrq4MoZ/LiFwF4PKNgJmOq0vYZ8XgwCOu05Le6SA2OXbY1J3I9k/vqysDDqhkA8e3YwD0+Zj4NOQCEw4AQhPfbmkwA2KjSHlqOrbkjk0bNY4encrGdOtEiDyEJBkN+STSfDmnerdndP7ATKdaDUHucRPjMQAwKsxRzZ5SLMLLY+ECqoxKldja1ZMBDDl0qsnXFWcq8TH++dmBpBhGaFWPtXR6qg2cLGdQVCJjh1ELAPcfn7Ai26cUtWpB8zJK8HH80IXO5kzAKEfn9rmrSUY1ABDN5Jq0Uoh4LoIXlyLKDwgb2ExJjXpVqrqckeXrO5Fs9A85snmEx3fAPdxED3Vm9+WRXOPy95Te+OtHMn9wk2eI+6gcQE4QDAKuybVC2NqekTqJVSgbJjCCORyjCgag/pgkZx7ST/zzlqPqsIkv9z1jyFYUocfubz0slsBGSUAFPmyF3g0DJKEJatnvICjC1LUFdr5kjDjK9OaGrMuD6Fdu9K7JpLgAuP6J6rKiUBukkmsg6hrhqvpAll1LqlavuEavDqarFtkuQPlmmkVu4lmtmgAPw3g0rDB6ZUqoAQFoxXYNB8odDVa1a3CCJKCNYzLNatYQRcDdjRAMGFbOYsFYjlYIhYgiHiBiH4QNb1xSF2gyHXAdbwBdbDY9ZgBGAoyyh5A2A+AzSlDQBFg+DQCUgrZDaWKjZ2LdqTaOB9q4bObJpQBeI6jfLkBiI14h5iADDqyxTkDxTFinzdi9h8B1zSBZjLT952yfJNSZy0TqYMT/glBBrGwQIDBDDIAjjxBhBrh5ApCixayUCWzEwMT3ysThSd6Bb7LB6rJKrvifjr7ribgUDbhChR5L4pGV7VhM5xzzDkyjD2zkzSgvgqC7BUCfbA57JrgkACAgaUCIBQQxbWLup4FKoEGiCOrqpAG4akFJaWr6qUHsAmrDqGZKopaUEv6sSEGXGnKZYgF/65Z3QFaBjKFcDZqghFrgiaF1biFhB6FrAGGWzXDyHdZloWEGBWGTC2CviTQIIHyDZmJmGeFdoTaOLTb+FzYqgqomT6RcaBgYlYk4lFh4mrZJLfSo5hBrLazbyEQEi8BHSQDwhYZEgbEk7ZYgFarIaSBNI8BxjPAURUT4Tp7vTIBqzOR1BSDhilByzBQ+IgoorcCymwl0S3A4bNCGmQCgizi1DXjwjHKrQQIjidTAn+BzD0Ah7MAyT674DyQKAgGxHahOwspx7/T1j/jiiVCp65x8FW5LQ94SnJAKT6gumThsaS4injK1Bng+ECBgDukJwDjZRebjiThUKrinheCHyOyQDlgKnfwlAdinyVjVh1iQDMSlBWDODPBHgMriZ4p1l9gwCBQdh/jhleD1gW6QFtREpanJQQJvxdm4A+JOn0DEwp4ECOiNAQjQiwiggIi2n8B4A2TESZiukoA0AenXQegCDBjJETxPQAGvSiDemyC7BVA3jGRw5Dno6agLB6g+lKAAL1h6kIz/ZWFay/KSy2oOChCSZDFvxGirHoFh5q5FRnaGS0DLgQLdnmgfx4rGyZCtxxBEoLZ6bBi2ZgYICZCLkwIsCZIpB8k1DLDNTUT2BqwMiwDsSmYUpAGcS24Fj1iWzRDODbC0T4DxDERKlkzUZ0CkB8DE7Xayb+T75SkyIp7XQeQaYQQmStyIB3TmAyrHHBKmZnHpZGWarCx2o4LJYUGGqPHiDPFxZMFDq75pYXEbrmXapWV3GpZ2WmoZlULDT6Veo+qjC2jllhB5BBqyAhqKHAnFYqHglgAaEGA1ZaH1b0KSHwktaIlcAzQqywAomr6WGFSyjQC1ERgpD4ndZEnjYOJTbOIDoUkwRWDmmCl9IYHpruIAqALKApRCkdU0VwLAKABMCYADIRgAtHLQJJLAKAAx2oAGFywCSUbxhqHxgALqaABgLjeA6EoGUouV0E4lUaFMmQWA5n6f4HFNRZ2OQE2RfPWDWc8P2d2VdSQM2K2O2MEIOEWRON7DFPFYNTwNgsREkieSWbQElA6EaJMFskfGEHmf6hWYeFWa0dTrAZ1KuLscMRzGMYeE5Zmv9eckDUqiDSdQ5F2HRCcD9rCj4mEUspUF1O6XlC1QqRaf1TyQESSOFP0qzRbLApAIABBRgA3K7jWmZjXjVJQIQ/w4q9lMrE2wwS0lBgCyCe7RH9DGy3C9IA3JCPKtmjQPApCsQdk2gnCy1g3WDmm7k+Q8rGixxKqACHDIAM8MgAYwyABTDPbYAJ0MgAFgyAAVDIAM0MgA7Qxu2O2AAHDN1MRrxterTaeQ8H5IOZlPWKLMiiBerBOfwbGQSKORFWBD3qNONIzeaViN1Ezc8JAOiChUZf/D1bQJMCwOoCTVyfUIRHyjwNjjHHDOdK8nKIbBXGWN1GSBQE0XbmEO0Q+VdrUIgHUugCAfvqDb/oIGeJMGrNQmEH0sfLnDlIVPAA4mPRPRXUAklD1VQH1TebQCaexmIqEDolQvUv6PgMREXWED5EPMuPZSEhkpkHgBMM3chl/UMBxa8pQHlK+JzSlEFkTVfq8TZfkK/ujqrOMO9PwHwA1o/gwOLX1QEZPSqnnjGQ0O8lRBPe1TybSbpbFZ1UOiwRCEWuiFCIVSohiWQJMDYXYQ4U4S4QglVYSR2l4SSfVTNrjcOlPh9gIfpPZDTXkIMLXqHiAQAGT/pESqyNRYOtRXbZB2xKCZkIx4YRF14gHmiN7yMMUGIRm4Z6morzDoq6XEr+SywH7IB6NYAGOGxqWNBGgxCmibCqzeniCGoGj1irFjDNEvilCTCvx2T5AYx9RakMJjndQ6TGP0IUBYCZaBI7aFAUDeLUbwBVF7yfjdRbECB5DyRVD6qyB2lQqrRDDFAJw3UtmPXEpn790tjSnPX5BYpPWnyQBJHSL1gY2Ew7jY1EXhwehWAPjSgEgvnnnpkzE7AiRhDorMo/xx6FFkBERFkTyb0wCCTnj66Gz+TEn7iRmwoKASFhmaibqbPTPzEtjlEWMzlIxznRnxQZNDDLTL1IY0BS43gGheoOGBkLPoDIAL4a47IQUmbyXoo7Ad4AFPPLPSADG6ihBhDNOdPERpBPosizLeoYA6b1ivgYB8i3DJCTDNgpSUQZAdgUwUDHJIwNAvjyWSU+mYX96K7ebwv9CRzEqdMU6hZSVp57FIDRz26artNqCql+WhM/g7WATljBP7xoJxb0FRpHG4FGX4EehfHuUkEWWJZeXLVUFPHJp0EkAkN8MsFQjogQlQnaFHUSFwnSE5UdMZw0Nol0MYCTCOF2GkSlA+B5BUhxopBWBOGVXNoEkeGcPEl1W+FkmNVdWxZeL4QiPwkPNQFsYqOYMMCyj0PuszSeveu+v+uBuDYHkI4OhA0ehaOSPqwOMRn1idT2R2a+OI2kAN6b0eO1bpu+PzhoWTArj85p26MAakhJ5PkYyvlwKfJrImM+hoqnxZSU5hjMZpuQEZnaADLErBNq6L5XahN1sti9g/J0iUBNClDPX1jHunyPXHJNTq32PBjexE4ZLXlm6xybMJzhAibx09XHIEto3OKs7vT9CDCw1n6dyjhFa1Kp6+S5aQB7PpvyksW1sjBhKNDQBxrvh1rhopD1gof1rhCvhYdxq4kPBUjQDHIUC7haH6ifXMvgElnrHmgEUku/JYZot+WNB9GYfri1GiwEilCixjhuuwBAjeLdPbGkSkSTB5OTRWAPCnu/gAS0BAT9hkQjD9Kkt1J2lySIBgBxAqy7w9vwG5zkzJCKx/jEShN5MY094EC8UFFMAjsTM9wbL4YJCIDZTlH1h443RYebMW4HEwQ4HypXGqsqrnFEFXEeWWUIPeUPHGov20HZgcHxZasFhyiQMNbqtGWU1Rf/GmS0B+cEyYu+phUBqRVIzRWUDGsgk5pQgVYWspWiHpU2v8j6HZVtYOsKEpqMFVfZo1cWtmGonFXpsrzNdrD6JCI1BxqggVbTf5rgjgjwightBdJlTVVhu1VdQ8PkkxsGDBGZLlQpDhpMUUBiFdS2tLJJ6fL2QtBPh66ES05vwhx1AMT2RZj6ab1cRkfGpsCcIOBAc/IZAUzLdYDZ5b1KpMncd/7CjL29S1BlILvnc8EXLiCmQKT0p64G6LlQ2YxgDMAMDcBgAEBVHLRdIETPDIDg+5g/Q9StRFJ7p4Yhaw7Ua/LIDAIzHAJcDAKQ9eDQK7xud/KkBA+SYICeyxDChDKxP2QpAw9oB/hOQWThInIUean+RZhHQuW7K5B8+A95IND3KOjwj5qSYZI8IcVWy5wUd9IVAHNPYR1c4OgH5sQVBKWTgrultWhFJFAhaLzhhGYZXoPspBhe41D70YBN1sC1AIcqAlxrJnc3dFTyRsaoCU16Xtr5CGUKrBeuVhenIRfatRe6u+UOVBWFehX+ThWBplcxWddKHxWgkLd1epXQk6EZVneteyFep0AmHMBOuDeyi2tjesDsCTfTcVazfzdYhQhA8hsjZrf2IbeRsNWzbbe7f2RneUpCrbUvSB48Aca7bO6dugdIC/dvz2DbOVNY99Q4948E9iXLMk/RB6ggFrLAIqMeDQJDy+y7irRPhtz9L9rhSnYQ8FRMYPpC/QPhAwYLDAMuAGhJ4v0VYFQCnnDBcsswZPTJDXC4C7xn+r/aBI+z6iwB6wghQyGBCbohZrmGgMgBIAADaVRWQAAF00keoLAGshoGcIT+KQETPrTrT3QiwcaCMEWAACaKQfepaAoDpJi6AqSgFIDww6dpQ6sMAdgBIDlIPQuyT2IgD3BgRJw9gDinolxrEQwir4YQNQOjD0CAAvGxDIEUCjBdAyAAAB8bBE8JGAoKShJJ9BhgmgaYIJAcCHCpQbgbwIEGVVw60gRoDQK6DsEe4wYCwVAKsH0C7BDg8AV0C4DyDL4Sg/UMVlYG1AKAVweNv5Ad7ohBSuCdHjs1lDhMGAV/fHoTzv55JuovBRRl1Hkpc4bE6APhCr1gTFBuoV3OwHHzu5sZKQVIFPkq0C6nJM+GXYgtdki7kF7itlWLjQQvzZhi+IVP1OX1K7BoKu1fOKswTr6JVIS9XNKjCUyp2s2ueVSOD33RIlVhuTWAfvmGH4zc5uZWJbjry+yrd8gY2Ofj2gX68MAiniHUpkhpqNIs8I3apON38jsBnEnya7kgHj73cYCXUNHmf0x4lCyhN/InrpSqGNAgSkACrLmi6ByA8EpvI5gwjUCZl6wF9V1NMme4783u6sI/goLIQRCyY5A0zrgEaD7lUAnKB0BIFv44IsA5kZfCf1uDj1Jgr/bLNemBiA5Ca6OLwEKgIrDg2k6ZdOHixDRJcSYjSZALvFGjawFgRMZUY5j/CLlNSDOW3suyzJsQUB9qaku6HpSzxEyp+GzIhwvQ4i2SLYYiJRBAKrwBgPxDJKQPpH/h1AzIqlt8K5ypwoMWAP/GEFwGew6UOQ8zFwjtCf5uoPo6ivKLACKie8RDECPPF3CLJuCuo9AFDDiCXQ+U4YWVHOT0x3AfEJCWuggOXrYAiACYK7GJllz1CPMtAWQDfzADZRXy+7T2DhC8D5g3exdAIlrAfCzt/A1FT5I0IpiPNr8a0OIPbjDLuZHRQwaSPGMZH4jVM3+Z8CkIR5CobIE9TPuCNu4J9fYvQ/oQMO+IuUTKblMypq08r59IGhfQIo5RuI6tIGIwq4r8TCA5cZkeWNYaQ0zSbCG+DXPYa30MK5V8qJwjEv3zlDxpbWcadfnqODZPCbEXDCNhIi27OUjAAjCdNTXhKZhQgjAoiFIJaC2tNRg/R5kmwV6QSARsoXgHGlgnwTdKzaLcamyaEZ5kCgYJZhkSkBAVkUywANP/E76vQbchQcuLmM06ZJrydENXFY30jj1hwq7c0Cc2rbQdgwoEQ5PJAUGqiagSqe3j3StFAUHQVmMiYuR7whZTRR1ZyJviALK8bedJF3lmT17zAqAQ6GPKIE7zGx1+nUBVJ8ixZsBVJiAFIOJRSiFtU2CcRQUQA0D1hkcrccLLaF4BDx3OauCgOFGmDDJ92RROPEpGPINApAxqIAuHlqwMRChlTHvAS37QiCmhVKOSSlH2JbjuCx2FrF4DEDliWAIrV6LgnLZRFD67GDKM0noQ7B1BZIfyIsFCCfZrewkwevwG5FxirItABGB21Qqgd7Sw+c8UFnFDZSoBjxfKaXCAL8syADAcSBUEkhah4oW4iiXcyJrWYyxmSC4teDkyixDJiDIEQnFBBYgOgKmFXHKI8hvCcyajFdnHhUG5AHAtYjSlcUaD/59IDY9ToXF8mUB+gFsM8Nby9LyQ+JdsEkTynKI+8lUrcf7A1n946NiB34k/rqF4LUkQ+TdNZALBNS+xcEJM5APGUImwkARk9ZHjFNQBHR3sE6PGPDwhlGp0m9Q7hHtBQldQ/ASgGwCoEJH7DikbMM3oc026IUuphoN0O/QgiP99hp4tPsqwz6nE1WoXc8dcWS63EC+0whyoazOnmiBYS5Woa9BYm6N8AgYTlDl3kByNF6so3PmQWsqTC1xD4z1CX0WElcoqVfIEn+JKzZp4QuaLELmkAm7Dm+TXJrAiUOHgT+uRVAwEpJTxQ0ex8wGpPJG7ZycNAUcExNP1T7ITw28/NCdGwwk7cAxauDwJkE1GtQyw9AGaNAFFhUgfk14RoGnIxREQfy2c2UNtX/D5zcAJiLoJGPGQAJrkT6HxLhSZQ1E6icuEgJ3Crjw8HgrEQIQCygKERjwbEDPD6RdHAxzMRbeULgCs6CcSASZHdJxATidNSa5AK0s4H8hzga8VpUkNOX8g4ReI5PRsufFXqpBGUX8VpsKKh5x50k8DMeDrCFSzSvANoQuAQ2QBEMtYwYXedb0lxLEe8s4v8m8w4ntM8il0HpFrKkHPAa86Zelv3JnHMd/G2tc0O9C9DrjrIm4tPnOT7pNEVoVHEcN5hqQZBr67ch/FJPNCS5kAc87jvC0ByMA2FoHISgk2fAhJGBvkSLCuyrH6ir0gYXSY6B+AVxB2VKTglpO3HUVOcQCzHCpB7RwjKevYx4qsg9BHRlA6xetrGPl5QKqFucHSHwFGB0A1OGsgLvrOGF6yNWYwvPhMJ8omzHxFqZ8aly9l2VnZTeOBqkK6q+yFhxXO2MsPK6hpfxJrOvliC2GWtGuTM+OW3yMKd9TCpaFOVrwTCYoWUUtVCDkChqDAoa/82ABoEXJFyaqrwnwuXKX6VyoAyOAII0xFy6RXkWGaWuhHFgR9qA9kUgumQTZiIZ5ACllIwDvSo9gRuo7BD4hg7VlaygCxSX1CKAfQk0RqAMGZnyJXQSEnMTovwt9QHT7wig5qpAw+LpiCK9udCCZDHG81SCTOLZJUqGUu8EOggRntfmS5M5plGEQBdfB9J0tIGpkV5AnGrBrS2A9YcKLTgGIGoYWIwGZJCpvDopU0zzZ4L8xKCYqYWCKEcX3Rfq4Y1kIK4hoXnab/syiF81pN8Wyw0J/q1sWoMkGpaOhw+CEWoBQl+XYz7AAHcolyqpy9Jh8eGMlfTivRM5dW17XldStbLUhhUXy0ZSiorjpNGgiAKsL4xxjSkZiBxIIgGO4QlCDltARoLgsoCsF9qk4DiiLnpQltxAsBIaD4gs5wVt2gxGWSMROWHgCBhuBoH/0NVu89lPdKlYB3dCqT2WXOZ6p0wHLMK4gATHWmvL8jvc4CV2JsRR1lhxliYdIcBJvNlA0AzFa8O0LlL1H+dq5RC8RuLOiCMwiYWwc1bqEUAWj/IYAvioGCE5ppFm6amQIRGdlZriRo8BJjGNKBPzxG0APBhMqwAQ1sZBqkPKpRqhr0SitCkLMTGxXdQoFlMAgGBDM7rMmVpIc7lsEnyXyPsgYEcG5lkCXLSYNa7xFwBu6mjGgo804pQGaLAg8M6YCmrnGzxjBi6ga8oktSrBfoggy68WIHA5KvE6RoKuCgHEWJhwfkRteCtjJfXSAvQizDAB+hIAKCou/7DwFIKub5iMcsgXdWOn3VaSiiyuKAtOvoB6gPAfdAFI+i7I3g2yhtLsqUz6Zb83QjQDGm6v6aUt6c20bdDZmgU3hophQe/Ki38YTgCKXobjWRWgXHIxMAgB4BQA8DHhFoUgCNd2QJr+hkcDpDUtcq9kuzol8C7gMuQwEVBeIfDHmrRSRQGxTGfoAMGNxAJh0DRYQe6iQEeqntHNA62MK+C9XLQXNCpNzbAB/DbRvNzwXzepq9Cns8VLzfzfgFPbPU+g1K7dOtFPa+ah149esLRs7IDlWNWNJjd2TPYBhlNDZRyJ/gK1lg5ecQUWZfDVqV1iUz1R6sMo5X2QP5EEQXN0rRwF9kuuGd5Z/FgB1aEOjQXLWWFq0KragXQeSmshpqAramZKpKOnDMxDo+AryixZ+KG32QflVCbAunyC46yQuplUYc+LvHhKglsWHwPMrzglYAABuMrJU9kPlQKllGdpP5naSlGKeWtik614pqlDAWpYMvqWLl7tnExZGdsc2PVgApQVzWMHEYebgkgW88ODtjCRbodwWuDSKD0BnatNqWCFek1pkehfh8y49ExjO1CdCBKALNKsWfD3bGgSQjnm9pyDAJhCf6AnYDiJ1qw2AXAUnf6HJ2U7IAwCQFWs3shCLadaGfHYTtD7yB4VS0Vna7DJ03hOdwCeEJP3hAC76dwupuhiv3AwsuApQcLc8Ei3k75KUnKkElQ0DghtOIu1LdSDp1C7GdIu+ZrirV0vMNdWukgDrpvDyVRYPzWVVSAt1QAGdbYInaUUA4ApkciwWgMADZ1XR+t5AWLYB3i0qwUdN4KVf7vtwtIVY0RNuF7sgA+6mo1uqjS8FjV0bKAqOqAFYEgbh9LVQUEKHju924LjV5NCgKwQ13hra9TcLlgupIDAAOR1YFHYLu90lrYwZaitU4GSAS6IoL4ewQ8COhtAxGVAEphrqS14MQdYOmvPDuJSL7S1SO3AF3vp2XrvSJAa9VwBb1IA29He2gF3qL3frgQucwjVxDYDMAN4MCrLo0GCwPzcMurD4vclfKkassnyNVKOGZjd6M9xy9jSzCGJsbsttg6lAqFR307VNRAdTZxCkBcBGgqRD6NcFB0+bYdsAELSKC6AmC9AE8W+nl3ANYsUoUB/HTAeRyw5EDqRKiA0Hr0GQcDeB4/V0HsHEGPApB73WOvE2cRoFXAfjVWKE3igRNu0EUFwZSiUAF96BpfTOLwMsHID/+s7dJtk2mJmOxEWQyQfkNP0SAymhvYkVr1EG5DhmeEnyR/VLaz1lejPcYYfV/qJYpAcGaMq4BBiM4WcRIQQcL3wIUcPS6LrZXa24Izt1Oz5SMtqDk6I9Tm1pj1tGUjaMkY23CfMum1KpaIc2vxbSg9DsrvllCMMCOiM0QQTNXAFYLRQW3LF0ctsMIGdpCODbAjaAe7TxiyOgw9SRsGYmQpKD3LZkQO1pgjowOQ7u8K+yQ+I2X1oGgtGBrAyfI5Z27tdM46LafCj1DAY94eufSlrz3pbuymWxjVzBy2N7kixW8gKVraaFaLI5WroHkbgRnbzNoKadtZshShAztgJLrrXxzSgh0Q5rBEJCWTkqIntNmqYGqs+1xo40/0b45MFaMsoGlHkBpYmA4bPDhZbwtpSZswl7rsJPw+EjdBRV2wx5kxQ0eU1XhhB3IuwWpqziu24IATP8a6N8g/IBRMopmYenQhAKHrRAx6u2GniQXKlwsW8eoFKkjDRgKEXZL9PfhyMX4ETfqXEydqxO4Bammc5caEA/TWh42bOJDO5hv136oVtAGFdKTF269/V5AR3TisoAanpVAegYvZGaJ1YuIIWDiEacWPZZZcPcdLcvpz1DHmkQIGgL5pGJbA7Th+c8KuqdPJAdVxKPMLrBoh0Rr1pmKoCTHsjAIhOsgaBHAsnw+mz8G+GvP3pvXGwMCCTTJAaduBcR+1GB5LYkDBZO9DIBq0ucrJ3jjHMkaGoBLFNwCiweqJ/GhSKB7wiNCAW6rZNwGNwWVUBkukGRQC5bIKe4NlBM4JWEo7zGTEC6ijxnqbFEgzuALs8qTyhCm3cTGR6FWBR5vwTURG4UkGaPFNBgE1Ybnl0FAi+wXccItjBdm2zvoFBQqUM4DnDPoAqKJwavQcT/QLnb4I45BQRH027KA+fja2qZgDzjZkAoTBoFOZ5bm8qwHZwC/JDugLYC4YUXPTave7c1qeWMQaJ0TgUWhnJREKHb3QZNSVPzMajeMybiAeKNtQwrbVn31nuyjZ94w7bMIVbBy0lOaNoGoW2GN8rWa4kCfa2MKFK20A3AwG8YuMfGal3x343GjGjiKxI31UslKhuggmmls/bwqSUX7Qmq56TSZaSf8gOAQ8hcAskOHYXFkfqKRLS19Vo6HggTuwEE7uZtgvhPOwJ+HgXAASy5QxyZvJlAzfzxioB1oBoMuKSQUmxFhZajv5U+xmIYIG8S2CQAwyqDJwem6DqXnVh2WJ6PkyLCrHGJbUDRmay8ALyuBjhJT04FwEBVsxug8mYnesEQHlCFxJO0nY5CkDjDqQp9aAWQOWGwCuYBy5oPJtADQtU8kkPc4UA+v1PxNuRblmAefjch+pBSjQBy1gEkl6JKATcQGBBBkhoNRLrHUkJkBAVURmAcAITiAtE6kRJM2xKTjJzSTbFWryGH6AiinpGX42OoMjlcqGu2gfIyByXWIDMj9WPL7AJuJ1ZzzIAF1Fl5ywnEQKJWcaVEO0LmYFViBZwVVugDVbqsNXRgfATMS1kbl6nCms1/gNwGWvdQhKiANa2fLbDAFDQdzCrcs1lF/ThwulJa6qNsbw2Y4M5v1AXUaAdJFBeSLHJk1mbPWMA+YN6xqC6sZRqUCV5Am6DhvZAY4YN9lLQEhv1XGrsN38ILblq5wWrbV4zQLcbni0kb1FMm5JlWvrXAcm1gQIVYOsCA9rGDFTgMgJvLQib9kgZBoDJusClA0tn8ZYCCqeKTieGN8TnxvHjDPZgS6gqbKS63iAllBF2y6h0bipsuOWXLsTI4QQy7owAAlkV1wBxpU2hgJ7UDwMDABBQ8SuO6m0q63G80jxpi0BNjk5KWuoEjvp1m74vG0SvFg0B9smCCXAofx56tU0UFSXGlSEl4XJc24VyEwMJvDXCZUuImWJnyBuz/KmDPVXqe7KxWsSMqEQ3lY6W2K2JmL0BKzGQWpmPPevvnY1TNrJuii3FQWD6L2OpkoHORUofz/CXyAeYx7i6QIbObZhvBcooXBxZ97bDfYg3tnZKFROiHWZVsqklUKsiqTSg6KZcbzkt8+/3mutepqwc0tYAHzcS7wb8RUNuGpEXl7SYFE7cTDbqauEzyUNwCB14EkUxLd4jQBoJFu6gNAhjpHXcDGLma978B7Qr+9BpwBEBU6vsVVV8zvBAgWKOI+EHNwGKC29sHkSs1IN5yIAB6V2RoNNVoCghaA6IWnRBY9BL34gIp6M9RVwXoq21zYkph2zjOiIbwIWfDZklIrcGe0rsShQxDHVq4kNok/RZMVpzqwazkEHvNvueA2SdIyANLUbRU2SRh8S5Sm/hGrAL1jQkwFU6rmoU9rTk9kbeumTMeJwJ1uBe/AMTsfQSa6cpIxW6XqbNHiGUaF4jRZuMbCc0+aKOcWh2FN9rWhdrKsXY4tl2ilrxkFhiirufGa7Pxuu8JeerbGTLmgFu2CZLnrdITfhTuw5RX7Uo+TtoAe26BadxjLTAPUpXU4EuNPMo9d0+K0+bv7FJm3yRE62DJ7mHHzS5sZ/L3tJoE6OCfVWCtHoShlT4pQRU/KoA341PHgsS4JAWIYPn7yflHZwRcOOMB7TcGVsqRAjCkRXwa4UiHGiLA2AbAr4OwKNo9AyCHQ6sHkclneiSDAqLxEzaZl0foE2MjSUMsl3fwe33i0DHTUmekDXGa+uTsEgU7zsxySnUsvJe1gKWVOuLxSmp+8eru125nzT3Q8kTafSXW7EJ1pb0/aVd2DApEIZ/5BYmV3tkTL2Z4uXmd5ba9HLvRd8JJMfJRnbL6RDZJtuMEmVA0IgHygJ6bMVyaD6GpLD63hVKypAPU+acSBzNk9L4PrTFr5UkAZjxFD0AXFiZWXhnboa9DfaBr8nzo3N80LFYYV5BwsIVsK7kChklEIr5rzKQ0FpWBhYrJrxQc8DhxKpSz0pON423CmaDWSoTiAyA26i7BtsUVwQOrFEiexzQJ4/XK6YMGw5eh5w2/lW6oQniYAqzwKIbcCEtoYI6EfoP0rdHJnWwNSegB+thrCMv0w4Ksazs5sfX9HwyegGLehsDlekzK21dzfWNA55KabtK9KT8yrtcFcB6lceDocx9Qn+EXoekKvKl4PdPeZPcdw3kbu1EmgjG2IrEP0AH+AaEt7kAfc0o8onbsXiMEnClvc4fbj0IO5QD6Q2RWAA16QC4CxWLYf7xDMm+zdbYoYZMd+h9zSJAFKkxvbhGqShsS36cO2Jd4GBXcDkt379tsLu8A77uFy1ont63Wk0Xvuow9Pym+7SSA2t38bQzum40CJuWPWkjkYdTugWpX90DfGUBx7taRnBarc0UTstmqWMnDtoixeN1k7bwubt/xdi6mFe3glYDLqoGcNkvivZAd/ywWDiV7hS+8NCKoHNWG0XuuUIcENHOKesXmZVLku13xOGivQg4roS0SzPDxvZXoJ0NuCdLk9Oo2fL4dAM5poKu/UIzsoHJylbxu1sJwdz/xa+MSvEAfx415x6Wc72/UFb9ez3KNixWSVV5YMJNYoAAByZABKxvwKdgIty80A6Fhyqi5YKy6K9fvEw2TYLdqwMFV/k5AR43zSfpAC00Ec5IANAwZuSFft7E8MsViryjfJDinNJVjU20h/kif2qPeGCD3jeyuGQD2TvF2EqlJATe1WoyoxZM2x3Ggudk7MFDO3dg1J3+ucIJwKWy+2g9cIkbaGiv1Mls0zqF5DB/1daraxAh8KYEKCgK8iezuAZkJOEhTkcG8FcEstMC8DOAEza9oICpEoKbeF5k9ro9tHj7ERfYFJ0tvSh69xf034Sc8pU1MyHemBx3u/MzU2U+gTMayBwCt4Bi6hnv/kFx2s37vuvpAz97thD61RUJAnOgC7BgTZx4YtXRbriAPN6/ARgrUKMYBGOBOHEDKWszbc7Z8XXikjFFg7Zp/i4bkZt6DP5Z5TCWpY8XbstnPC7y7zDTP/sxJZZ5SXWfs76IRi1kuAlOfynNLtzwy74ueemnkwOcItLEhLgVwkl4Ex04C9dOWl8lj4U1UFdiJET6loIJ8kD8Lhg/GFUP6dthQq8ff0zlL159T9oUQ/WFPz+z+OfhR97D0hPgxG3wnBvovEYiA/3JDIytOkL0dQ6VeikzyY9+C5zNdBhIAfAmnV8CBYdBv5OIDiVAAx2Lpwo4w/kUBJpzADD/dOeLDzeNjABWBeKB01nb6Db888ZIE8l8F9eIi1+bQeUe6KjXan6RkaspXICI7hX3lZAQNK64XGAToQ0AoIXNDCBUAMAFuWIe71tHxsX/dkVRowAG/2AQ8oSaHW42MAoRmZf3XAE9hSQDC0JsR9PDBo8dUTzS0llFenhuc74B+BP4rFEDm8wLsTQVDFTMYBEWBEAcAIMAhTaSTHh83cX0l8y8d529JEAJf2lAx/HPBtojbaf1zhUTLB0K8k2TkA+ciwMxRqAU+IIgU9jKJTyvFdtPT321PbfVnNRtPZyl08TfXVkM8PxOXE5ktIQl3WEyGUElBBC0Qp2YtslSl099S7b30mdanMV3qdmXSV2Es3HLsj88ZLQL26ceXEL0UtwveEki9hnV9zdBHAimhz8rAxl1sDUvP4wCCw/UyxMktA6fC9cyTSMX3tvLHPWIcRpKhBV1dRSewptigGhz1woUOZHFVIoB9VyCR9Y5D7hgyaWFMkIoQxjkEb4V6B7gJAA415ozHGxjyhvLbQlP5tkXGx+8+cUHhulLgZei+YkhdFTURIpYpCCAC6RREgAsQObm4dWgh/0g1ngIY19JRpBHH5R0tGQA8gAEDDV4CGgIHDedb7YeSrMWgmCG8tcvB0wwMPTZ5HbplLbdVzhw6CVW9JqZLAFGBwPSXWe5c4IgD3wJkXUEFAeqCjhRsMLBtS8kGIRWD2Q1kecWFdyQftmyDfgqQH+CRHW6GoCnXFtwXdMAAjwWN3HFcUoADEcQStNizG03X1L3D50dNK1XOHkpvoOFyUYpSN+GPlU8FWwkpKQ+3HNAkhepH0gc9LaFRVlLAD1JCtoaNWoBboAkBYAOSTZnWdQYLHTCA32KjFQBO3TOE3QIXDAJBs+IYuUkDvFZT1dttffTwUC4uWYSRdjfSylN9/bTXwVQ1GAKh/EnfYlyoY+uKpwrtc/GwJmcvPZY1GJstZwK5cgvdwIUtPhJSxwkxEHwLUsfXJWT4BHQ91R2ggg/nmsCPPUIIdCQDLLVWNS/OpjE8sHeRx6YJ7Zo1MxQxLiHsgn1OSk9FPGf9XA1w8Y7ihcaAAgTZsbDaUmzAiteMQLUMmV8lPt6AixieAsHHpkK9GAn1VCZlwLjzF8S8KX3aEg3bZBDc61Y2E69/MQMAo579c3g9Bmw9rxaZ0mbIEEdAofe2/d+lQVBXIyw0zCzDuoUaRIBqQwX0esB3ND3t0Y8URFVwt3a7CoQ8wyWCbFg4LfgDDGoRVRMEHwrnTEpgEDVX1gH1F6yud5KYBGfCMXEWH8gU3egCGDvw+ICoCoAJcP3DGeGA0d5D9GRXJANw/aX6B6mSh0/xWdbKEzgBvPql3CKzMsNfCubXSH4R5eL8J6Z9cKiD1BaAF8LPCFxEgFhx72PZGARkwsc2hcUIl1SqJEGKgHQg6AUCK0Eu3WOGlgS4EyAWJJYVkU4otwqUmfdWQXeFc43JMOwo5UI48IwiuILCIvDrwUbT4i8AAUhmCPSJ2C/RRJAiiyYxw2hA0i5uLSMoi4cNSP/DqIqyUSYMkYBGUjZmYWCoRXoCjhwR1IkSBdAuHYyMoCv3Dih/co+bIwEiFYJWCiVpfS6xVhZKErFc55Ix90UiHIsWDXCBZfIEVgIIZWFgZ5NdACSi4cD0B000orCONgaI32C/C7I0yNegH3PyILAuI8CIChCwxekqQ4KJv2B5Tzb6RJ00Ik8K5oSge9WLC7yRc3kBYrDGiBNqoh9TY8fxSCxbcwCKaRTNxMfCFbCuIHpguwJ3d8NLCANaugIjuYAtRcpaAb9Q5IPQd+j6hf+HS3W01fYiw181Q1kI1D5AmLj19qLRQSfE9PA0MNQNArLC/FAqVPj9kElCz0r5VhFXwJAdYNCgtArwLO2Jd8nK0LpdqnYIN996nF7RtB/jdZUBMI/GflcDo/Du1C9k0LCX5VJlIq3GxKCFYhlN/IU7yu0CTF0Eu5MI9pkhibmd+SUdjnIO1mV2qT8UwAKYJPEUlqwm7kl0B8VU3uCipLtUHMyYKzjh9w+X9mMdxQCxijB5AemHxdEwfzmlNJ7LwxtFJ7DAQudmdZUz5ZVTVXSxVpSSGO1NEApaGVw7Xa3hz1f4dKNWIYpXBU0dS1URAcckAU0VPUy9UzA3hTFE6S6gcRAU0BhyVBlAfUCWemOERMfYojjQULc0DjRSFSJ3jUag8AUShpYq4BKAN5YUnpNuWcCxggiwasPs4qgWkUkAH1E+xOBE3KHD4A4FRBRjjreHNS1A14JakgYGgQkA6oHsdxBLCwLa3gaB3IXNWcQOrJ+13RvcRX1yAaPGMQodG40BxGAv+NPU1JB+J8AfVhw6KLU5xokB080RoHkLg4e0DAy4B0TEsjVwa8QhwwDsRa4JvQMDW4MAj1mPWO6hp6diRcpsYqWOocy1amzrjZAMhHvF01WuILj64iBnuJX0NaNMwQHeUxD4r4vmPkAG46+ybiRSfiP7jN6IIFrZcNQ9nVgyNCjVpEOMPcKBt1AUuMIhy4lyUUl01KuNMxaSfqhI0epEyHkA04m0CvhEfCgFTRawqbySR5QTITdQuITBITgdILkUagLYnfS9NOjb1SNMSReANyAOKMSm+wDVbWDfd2CJsXThtOHDBtthDYVzdBNY+hKvs8TcKHPgwHIQ1oUeErdWpMLlLwAvVqE6f0ljW4U52goNpCt3OxWmL6Dh9maQdzk9lQw6MU9ttGQJU8zov2w09FAmCGO0coLPy4ALtdrQPiYpfGJhif4YABQ40OUoAw4hYaOHSZ+jGHRrw6E05DMF/E3zSCS48bDlIhcOHxOWVujAYykNtoSABCTV9OHWLMUOQjmI4YkhMjiSAktfRQMkknJMR0UDPA1FMcwMo1aZ3E1DisB0OUiA45Ik3Dnw4Mk6ADj1d4R7VtCIwmpVJjoYh6laYQTNw2L0vZcOKm9KaexKuBuaPfVvk3TIkHu1zQM7TGTSFCZM106IKuPu1WkgmIL00dSglL1FAcvRBB5DEuKzVYE2wy3c1ORAzgUEiAMGgTlnXA3wNqwJuADMbk4/VWSsAQHVcSSgdgwz0ALLC3khGYVTl+REDUhQd1lk75OuTGDAg3uSGDW5NoBnkjPXWSKAD5LO0a43mMnAXAX5MY4MgRA2HMNdV+JRTZAeONeskksFLuTEDSFKeSHtOFIRSJzHFLXhO5AtWxTkUteHxSagJuDJS1kt5I2T6dCcyuSjk3fXOTJkq5JZTXDclPZT4UnR1vZTQ9PQu0EEkFPCFc4oFLbAq4wVOrAYU15J6S7tMVPASCwSVOocl44JC4APE6pK8TakpuAzMa8LM0qScOPDhgACOJkiI5mk+7X/gyxU+RqgVE9zDO1q9E1Tr0dDaV2SJm9WBEP129AgxR16wPw0GNREAfW/Zh9VQ1bIJ9SGxNS5jeIAtSokq1PSTbU4jmDTuoM7Ucdd9P1KScj9INIdSqgO4H+YDYnGLuiZYnShghXwCqScSxActLlMpvCQWSlztZVJDSFYs7RDSgnDtIz0VYmFm7SztdWNGMSAftMT1pAVgn7S9Y8nUBta0iH2WphCF6PTtzPCvhWFHfHJ30DSsdEEyUinFi10IPfe1iOECqcuyMAkvauy6SZfTl06c27bhneF0Jfly8Dz6MxkcTaxUID5s+AXnnaTkvMpQWZc5HahBNfwx4Oe5MIzF3+o1kOFIMUh6DdSKMtXIDh2okTYYHGUAAKn+pwA7pNCMWURalixUYrBza0qeaClTCrwNiSSticEuCdliIMDPUBngWuWNw1Ye/GOdTbPyRcpGtYV15oz0vORHNsZFnzWU1Un+EABMAnplgMglGcBs8ODPSlD2PzliwTcKnhGSe09rSQy3nFDLhTgEGFJYk2ksGLz8v0iOJ/TB5X7QBj10sOXs8d0lvj3S2uCp0sCwwkIJqVryZshHtv5azIvTI/K9NQleXRSywzvQyZMbs5lWxLHlnmJDBHDPrOmMTwqUXBDqM7YOZlJiDJYKFwd2UHvGmj81KlDMkrwZeWFju43aK1idLWyUTBdVWZRfT+WOlTpZsUSGLiyhUM6FUANGI6CVRYsshJvBs4rmNW8AoU+K9NkcSXX5B1YDqVJ5sUe5WIhR7XdgkJLuaDilI+rfZWhUbeYiGJhIsqBxAI+SHTjEgp4ybAb8sCGCG7CmAsbMgc8HePA9jNsXODgczYGmTSZjaazDIoIA1rxrDo4Kb0+RfY83gZTnEYc09JxJLmnMY8oApkxhBOBoHhlDVRL08dacddXsgrgfLXTIGgfFnNBWwXy3SzOFCeno4A0DH2HDE1JaBGhRLQyEM4D+bzBQszYdhVY4wcgy2ZZTUDGNwBC/UcAFSZzc5jmIwgVZQcAeIbI0u5tE1y2s0jeaTGFhFKDJiPUT1BxQYhPkT1OXNbVfzAM56AYcxNFEsgXCMABk1LFuU8MxphiD91FtApUAwDzKu013C1R2TTMHLNfIrYbRIIEBATMkGy9JHrIg0lcl0BWyosmCjzdO422KSRYsm7MeyShF7PTgeSdnNXgqwFrIzCAPeHLA4uFPKDxzkcrNTMwxKUCEIsjEqQJMTs+U6L20LEvVm1DdVCvU8yfSIe2syT+EVw/Tq7KzIvgl0WzIvgQTGCGGVLVOxIz1fs2vQmSD9Z4BB0iPCgBaSsAK7WjyL4dPPlzYUcVHsTdcygGB0DUmpJSAskvxJSTYAcJPw5LUlvMq8285fVTSUgO1O7zCkwY3X09AROFaZvUgbQqTG8o1LqS40S1MaS005pKVToUk/jLyU80gEryz1LPLmTJwZ6kqTPE7xP+0e8no3c0FQ5JNPz28jAM7zk0ofNCSMDYhwvz4k3o3IUn83JNSSAta1KaS78tvKWC38opNoV/8kfOKTbwEnTeCiAE1P3yZ8jDhvyGkr/KXyS8yPK/lpc4ey3zM86TLO0dIJNOiSzBRw3Qj4CgfMyTcCjADTgnDMfP1yJs4YF44cHSguwKU0m1MILl8lw2VS18k7XLzN8qAAzza1DAoaAlspGG5TisNFI8BTkrajAKR9BtiJALkssAFTCUqFJXyYU9fJQLrMtAu4Ka8z5IwA+CjwGpTUUk5P+TRCqNP9BQyOlOJRtCvFILVSU8FOYLV83eEUKywRuxULq8iPLO0MchayCFc01vRB1MctHOkBEC2wuupUCzgqryd8q4HdzZAK5MWTQiq5IUK2CjfKNYF023zejl05JV0z/xO43m4DM0wLYtE5Y4SPSeLePPqdE8ptm6y3qJu3894YqP3bsb0vpxRjYTNGMGcxEXVjHsJCPwpeptcwuDmYMFDyG+JwwZLLwsErOIH3sSwYHJ2VfXLAHKTZlc0GETiiCgrwc48FnJfB84vmL8o4UYdTkTaTMB0xZ/kTJAss6TRTWXp147emPAhZJs24AGQlkz+jx6bhRppqHPKDvMMBIOL8y8MOGzk1H/Z7kAVt2LACmK9sYe3ezosMCIwNdU82CbgYUNeOIUSEZ03QBMHT6xoK1szPnBLkgDF1vxAwbdjaNgceBjKi6FOaUcVn3KgAZA8MCJ3koJ7CpiuwWEuKyLNtoYbhQMRxa5gYUiwNRz6RsjIHOOoOSK7PkBzcjt1XUJkps2tFUKHlDlg9ii4sSABIpODygJTJkTetV1QZCoTXOHfWtFIYvKCuBB/TvkXIJkqCmwV9lTnEAUkVF5mg1juVDFexGI6X3qZiSy+yJLvgrSUSScLKUrscFIENVyAZigPlJKE4Ih2LNSHdfUiM9kF7nP0ggAsxcU3QHC0ORyFfRVOxPeE4E+ReHVDypKWzU0SChZlMdT1Kt2SDKE4TdJukKyhk6LAMAhcnFxbhgoJ4MwDYMfe23QFZQ8HHyWUH8B2whgCLNWz2UOPEKKSAM1UmZdXaDkxj02HeJawBEoG2KAeomEoD4hM2q0ZpIGdMvQcKARZJq1WmSLQHKvZbZPSY7zE2NjBr1BtlJAFyyADFLlyxUvUgKM69TuggGXqjSjSVNIRk9uKP8ilIqyg3LMYaMujBU4SitMICyWbfZW3pgyVkp7w1iy5V9zBhYxNItfFYPPU9Q8mYUMNmsOQLJV7E4ot7AVUk9IKLh7ZPKbBtcvpIxj+ESggPoM9aAtqT+0+pNfBu02ZP7y7U7tNKTjUBiFKMoCqpKbzYC+gqaSUdSctSw9nMjmysYGV2VCB7EqivQI4gUsp/hyy5lSGBJ88gAbyiK2fJIrF8xgr0BTyygsQA6DagvGy8HYACTgc4WQD0BKBWgVOhh7USvYKSADoCuNNkw1HTL7EyGNHLz2ccpnFydZMsIEvTLMsNRpyucyr1/TdwoDTj9TfXx0dUqYoBRkKlICsqC801MHV59NCv4q7UvQFsqe9Tkpcr80zvQRTVygKsDSgq+Q3XLlSxAAmSAAbzVMqCx3Ui1xaCfJGNVY4hwABfNw0UxhgCnBTjf1CuAo0M9M0uKBndWZOKrcAIYxmTbNTimfEJPdk0dS9OQ0rugegFO0HgoqIiEQAlEc0L0z4QCrFzs3fAuzMD2LL31yLwKyzMgqi8+zPKLHMsuWczPQ+PxEzcKwPHgxlXdOMkE1dQcLtyZkBlTmZ9EwOPeZfoxj0AJWo7ohfBnVFiU28e8csHPcT3UuRTZ8rbYh6ZCIQHmrIIsKLH3tz/R0l2VkaER151vooP1kBi/OIAk8SvZApK04xX2AXUxCWMEezdvCnySQVHYDzecKNPaSFRAPTjG+tuKIzXQtKOGpFG92TTuTOd6AbNHsAqwL01KBXEad27UkzMJ2rIbquVXHYWMft2Zx5FFIBMVB3SfFA9OKdGouc33UcKA8TYGVTedOSHAKYg5VeSmJy4AhAOvzg1DOC6yFnCGqwByAXAHTAVOGUVCBAGcD00hrmFDylqaHKiGeyBoeGSbp0a6j0FqKPZVAaiaanxGurBAD3TlDDQWD3tRRlRmhwCdEvj130BgcvEVzdE4ultrAkXoVgisALPSuVMym5VfwpC9Uz0NZc1kH3tGK7K1VV03DXQy8N3YQigAd3c2qGBCagMHOcDCo5WjcVYTivPA7XB1331/UgvLD1DAKAHrhb+RoC9q86lfMpIzMCzEYAQRLr1I88FMRVOr6cA6qWk9QDIGxKPdWbPGQRwcKBFjuYYVihd7c4oThEQFN+hXZlgKiCW834IEIJA8A6hUEBCIYETjFso4iB8lJwVWupECXeTz9zVQ0xPVDvy6WIfFaCLKkArcdDPSLzlMgNFUzzM8GPGrrMqCrJp2XHTKL00uIAn2ccac33oqADf+uoqSyywyCBldTtQ3dk6nz3TdVK9Sqtja1IBuGB3UuiHI8s69FFzqVDQwtPx1oIuqmN7XAuogKy6vNND1wC0/WsAS9IIpQba8/kFrr66nBpIaoUtwwlYbw1USUdL/aWJTDGmexKWrKvR+pt9Y7JdKSUq+IKgnAcQtjBsBgFFItDlpuYGPMJj0/Ivfqk889Lhji5GauC8PQpqnvTpYl0WEzbZUMP+Q36z7TrKtM3agWVjYSUGAz7s4DOFqz5T8XHQU8SOrPhrMzY1aKSinvCLzQyRqz2KTa+0yZx7SXimXIqCZxFV4pRN0EtBi6Osv+FOApIwsYLUT7n+DkGKLhhdMSjRhE9xcrmXECGwRxLUKHEqnjkzeaFDOUqlMh7TGrTGyCrUbEANw0kzjNDAsQzkMjQE/ryAJopIAym1pIqbJgMxuqbamvJqcLGm+TOaai8jppeSumnprYyam2RpUIMi931yVzA1z1GrlGz7WBztLfVhEsQc0cHEtsrKao0buXGP1vT+GWoqwdfhZ3JND1iVHNA5p0jZjJA2ajHiQKPqEHLEsjLAix5kXmq2EtyjaxujzMyeVAQoF3LUsLRrXC27JYC4YUGr2JYKGWWt56bLpDFUFkZ8ECsoAdjnQAR3GjD8tQmP61fTOw29wyssrQ8FcAoAPJgKZngW/SbpNbHGz+rKrEW1ncJbQPkFQhgGCCJbCmUlulxeOMcD+q7eQ0pdz4gNcFWtlYZtADMx5IELy80zLiH1o+OTjnnk2pGmEJbtiLJGQ1upQVxVrTQZyxRaFFVZgxbebcYibQPARlt2tpODWGM1NWpAm1birbAD1aBAI62WhcM0CCp5zOQ63lsIIIwDBzeWzG35b6AKNWvcSzcjmlg4hPijYwcRfkKqBDcHonXBtiYlqKZCxYVvOxsHPcG+9xW9lulbZAcGl2Y1iFrAVB5AZdXplP8a0tCcLYQAIEiO48nOM83m72ADNpy1iRfTdlKJqZkqSh3G2KMcMIC9ZgWxUM9U9opunZjCjYm1XZT6eqIMgfLNZo4V+6xIGlEBkWnKBlIWSgmcVF6gxEigywzOLtBMMUdr3rD8CYC3Elq16E58fs1rzgAk+EcEBsxHJsunSMAEpi4pOM/5oGshUaaJ0UnweFVhIfWgOGqEN5MBs2hFclJDWQE27lv+ZDa17O+a7ob6n+kfLfF0lyUbZay4BFYTiDGBVcN0DA0hI4OvNszUKAAxssbDa3A7IERH2g7/YNcN3hu2xDp49mAd1rQ7IOrnAp11mF1r5aNQPLgIEsOq5xw6EOmCCSYxOIjow7qOwSOvA6O9Rjw6kmPa2Y6oO1jtg72O+Ds46GOh1uOs2uCDpY7subDqE7/pGCFw6SQTzVaz0jYaSukS2BiD7plgVdr+J52hgShCT2r9tHbk0EytVbRcjirji762xK8Ktm95vTJ2qQ0LLbQq5ts2aX6KuusBvS15jqBvGYdtdaCOyjrzzy6tvQk6oOvA0+QJ7Yok/bVmjVov824L6MdsVWEi0M9yLTUIuirE5MBO0MCqzuea9LP7TkC3nF+uMb1MyLqxyMUTLt0sJLPpIcLaK6JR3y7O+6KMt/Oshqc7B201F8KTtM7VK7tmw8HJ050yrpQad8iBo86vGb9r6huWnzvdaGujwqC7MAVrtsT2u+HM664gbrvc750grkXSlhB32mbQSCrFd9t0zIuMz2+UzKWa1Mu0JWbgWgPyRzAajPxL91G5pUqKoTT0Ncz4TMRAEhbmkxUuaOFE7VCKga1lFn8qEq8HThUBcDDT9O1bqzXoE+Mk3kpkaaNthy2TEWJ7i0s/Vn3sQirNQmTMwPABUVEAQfxYC2A0fw78uoRoEgFoBF60YpJahjmELfkS9iegGVMuEbDyW2cKaDhjEEuwdq/IgBmhAcM7LdAkxfTi6gL24nuiDzm6ijVV4AFIFtbIuUJhfhuOIrp0tKgwBC8cPJcbhCg8gMaV06lazim56EXThE+rqwVolVUyaxIWi7AwH6r5C5YH0AXcNvOMBiqP/KEBsEsQNoHRAbBXNAW50qsAGAAjFM1jwNdkIogVLJwFIBmZwgWD3CTde+ADNVwO1eO2LYA5jwcrFQlXqSA16teRHEq8WGE7aF5QgNkAgKE51Lh1IR4juYlVSFT/g822PuDbvMAH3fkua0mp0BpQ21pHANerHpRk2/ThHH8SSjcXeCcERToYTDvLSnJQdGPMXI58IULup9Bunkho949I/mfA2e5IngUpbRuRj7HZUfv9AiUWLpVCEuo0LMTL642Uuj/ys6KAqM9L7qu7Fu8puWbUpZztNRzugGu+6Kuv9GM7aupBscLztZHqJAIii7qiL/9K/uTZTKoIowKkALXtoAdeoXobreOzAA+TX+zzpv7gin3r96A+jAKD66DMPSbhkcJDV2AfwdQFR14i4RvW6Po1dKJc9Mx3tmbBqrIoO6Rq60KUbjujpNO7j+jFGqaXAiouvT7upqnDz8IGmiWBxlUzr+4umqXvWbqm/9K0pAMmKJ+hTNOBGVb6i8DIBQOumzpwoLu8/pixf6r2VuV2af/TqbGStQrYGzu6pvHhBm4puabRBvSzbR0MfppKxlB8gbIVf06inOB1B2ihQzd+zCjiAuLVboSKy+AOQwHNuu41wGKXfAfyULAo7tfr1MmF1lAXnSSzKK9mt0IObqizDOOa3MlJgHM0mlou2N0VPTy6B30kgc/SfBlptCtP8EE2ozdjbmCWVsktZBeRcAXMngw4xerwpjqtBWosgBvZyFeKXwBrEaA/B/YyAocIgELSz4q853QU2+hBmX8kYVp2sTEIWUT6RZcGU2dItadttF11mVp2Bz8XGXHiAjre3E+ReewFpHNfusnKp4mEZqjdrtit/qvL8W0AcONO5SsKwbaABsuBocpSgDlh9OvAtHVtJWPr8HEFL3GSk/VNvyYjCI2RRQEVmLwHz7OfB4G+dfnf50BdgXUFzXFOcOkGGRrRR4cUiihrbKJq3yrxWX6Tog2V9sfy6+usT0u/Jr8GwKw/uSG/BirqgBS4rZI/78m6/t2GYXBwxILgxU5xzrDh//smTtjaItm60Rg/sSHq7TEbKGCLHTJTsY7UvnjszwROxqdk7VOw5GPILka8AnB7NDyEXBxz3mbhqjwaIG8ixkfqdKB10LcDgh5GNixkcaxr4GTWH2q2CrQULOyHacBdoaMuAcZSGb3kF9mgQCewGxQyGjLpBkci1QWBppdWJgbsbeaELOrEcyN4w55mm400Kgr5cxooiUM9gZfo/R+sBQzNvYMa51mm1jJ2p/R5pomboxkMeaaswowf/AuIuNg9bIGJ0ap4+sqSIMQoWKIfvqUM5kcyGKAc0Yfd66Y2vkBOUTMci5H+FSuhGnbS8UDz4R92yvqqLaQZ8o9BrNAKbjNIpvMHmmho1GaLDQ/t6abwRcUDBux7I17GhqfsZfYbRs7WMr7xTsfsSzB6ccScTTZMb/BBx/LqmcTu8xr6SKKh4iXGZMwpqaaj+5rooG5OLca6bemg8e8MpM/JpXGIxr7Rho/R9EblGalG8cQbxlBptkzTxqMZTG3xrwd3HPx9scPH7xgZt/GTRuMYAmGRoCdIG9x37VvGkjHfMfGUMpMdfHYJgruAnJmtStAm7x+pofHIJjQZtQc2lIe2Mrx4cZwndAkORYI2gItHhABq1wf273BxZplGum70aYABkSYAiDdm27poG5qpqke6VLVZTbIvYH0dNNMQ7/T/J6ZGdiLFq5K7QiDBw/huJQuWE03z1swvZDniggKjVGyq88WKgBkgmcWNUywKkfvyEkpVDUNdWy/vWCMmQrAZLQYL8LMcpqJLhxizkXUF8YvmRoHmKudPHn/9LvYEFp0gsBkHDgKg3ul+BtRixisB7oVgXZCS0+yAEcSAOSp2l6M/mtraZJPDAPw8oAkJQNjJ8gFMnf89fX0MUoF/psmbGIUm4HaWGyIODtRrnV09XJg4ISmSHdofSIgcGqecZuDOWoYhgEFqcoAZHHoCgAzg9/NgBLgwEqAINdNvPCSJSkfX/16rC6B8RRJlASeCN40nhXbuENeg0Fskw+3cn6VFMlhUoudOAjoBIvgLywBp4kPdMeQrkvAL/9JrPdEWeJs2cn1xEUAXjxGTcRhNlFHUE2ZKeT+R3jrZK7AYkT+D3GqgtxHHVsTUAPbWIDa5euQ1zYYVEyZxTvbeJT86lTezvL1XKMip71SHZFvZxJgxLPEGx6QKbGku86MsSw8mcJKwbEn0jO0Igp+rthtx8MM/SOJ30Z4nftO2L7F8K9sixnOJ9SYkNn8s/IwszJl/M/z+ZvvVHzcJ0mazQuCybCiV8XIcaNpItXKeGBYB8acvziHSyfu1fYSmZYh1J0WbTHqXbfL662ko2iGN5Z/Kcvylg1WfGiNZ9skWNtZtQolmqu6WecLiQi4IumHKpWZ5mr84JCmmpddWapnHs22ZoapZz+kdnXTC8G4ARpr2fZ0LZ32ZFH80fqt265mouylHWJkGJtD3xz7QZmuJhUcvT9mpGMUs8J+JtfMDNPDA/R2IdGDEg7YcUKFh+WYiGNHeaMrxnH44Mr01HpqBuekBzRutmN7QYZzHDt7IqnhdsFxmQegZ/tErBppvx4Oyzd1R4zRNGIgqgMycqG8JWAyXbOi0fH6500cbm1Boib7G15tuZvBfq5zD85uq1IrBJ6JxiYlHE5kzMIGU54gbgnP0sMeJ8avXzxu7ZLfiY8CHusIae6D7aryAh5SDICMcN3FmewZng5WT+TZcWJj7bkW1AF3B5FUd3vw6pE7Xvm+vUn2UnSgFOphpMLWXojoUa2sP8gaBMACGCoctac/nZfO8Np9i6BWJAQrvM4zTRbvPUGgQmxaGg5QvzF/kRlwAyxl/ddNfeypA0AD4HkAgIDnITUAsRMp+zJwPhfkoGgUCCXkLkc+UFhkAh4eU6BlcUlM5MoL90nBghaMBrYIjCXU6D8gbD3FsYbKLn9qEvH7pJyBs/GquQSzQHEAEggIRz+9vepkRCFEHZrIZUmfQ8HwgkhPqU2kKpumsEAXKGlv0W+28gGuZpsHvDbic3aXy5rBEzMTyhZSNRZn1uW/jNRr7cHESYAfWgoj7xAwRmrCAaBPKGnoaAWJabhd6T5xBFJEMxbyhLlZwFR6cEua0Uj0lnRRcXtkaCFlQuIDvo3Rh+/PLgwPW4MGyh2JOxV5FQmUIEZ5fYBb2BMKwlyHh4N2q7E5NyUHxGDAzoYZxAXEgDHzYBB0JADgRwF/eFYFOUaBZoxEcRftPrYR8+qDy5AkPKRHN+vbSu0MChBfLB43amZKMumu+di8H5zLymb85itr66MCxN1iW86jRdqAuAPxZOB7Bf2tCqbKlVKuWblxBreXA5oOycKrgL5aYbQq/5b4BLJxAtKNHlxBY3d+k6hr1moVsVCcKYlmgSpH2l13vQ7gu0FbRXrl9N0xWpygOdgZpZjAtyXd9AlfhXSGjwpBWHtMFcpWIVmlborcV87XKWRy4FYLT2V8lfBWz9PKqW1b9CmnyagIONFIg8gFBDzr+0lICfgEEWVflWiwRVZ7ws0gQA10gIMcBO9mac2daSOVjFbWHxV0AYwKMrcsAm6A00oD1WDV54BRWTVmGhQHbBtAYcGV0mObs9jA/OyYnJRi+elGr52UZvnq7MMfY5H5gIb4mnM1+cEn35lS3DXSfK7SWriIFBbgaN3UUU5oliN8BH8sAXKpMMl0qXlHYbwdjgON/Szjzc6MF6ZZ/brc5AB8AbAB4HZaWloyivDsUVENEkeat6EgQlKPFriBM27/FQTZlret6Wv8ehS8gO3VRbG8SFtACbhBp+pD4AqfHxBYlni1AK7XJMM7EDBEVgxdLw4yU23gYzJfbNYB1AQeAyjxonwbsX8lxBwpa62ANBCdra2Ps3XOehUBA9meiy2iWqIC9fiXC4FiR9FawoYByW4fPJYcXKtBlWvXomJvB04GIJMR/WBWMB35WJkydV2UnwFYN7XQm5YrRm5gRMjgRRpAYEZkm6PtuWHLKO6FHQgEriD6L3qmCCuAbALtYmTHUD4GHArkFc0eKgckEbwxkW4ME4okNiSz7XrICrThdqKdjcnMAu8aOhzBFlNhXY12mCDg3zLLBxbFmdSgiSbfWsHMLgaBaKq6ACN7I19gCCHtecRl1aoWVZyUVFqrFUN0cPg8apy0GYA7oYzrq9cyhB3M7zJB5oTX/5hIZDX6nMNf3gI1npCUcU11BarI6Wdzs7X2IdpcwtzVyjeo3jkAIB5JOSSBjrWG1m/oqI9pWFEVhNNOzf1DdWGYlJ4KYLgEc20F7PD8pfYPbVTWEaf+becNAVuYydcZ+LuOjDl5sbU9WxjfrFmt+++rO1stimFuWhxtOefGKYGVk/AI1nCq822ZnzdIA1Ky/v82MdWvK7X2lllYDTjXcZiqBMrZDZcAZoftZkMwloAf83py0ZMnAqN9iBtWC8mbdHZ5trjaW2eN3yvnnUsMyrx16dT5aZWw9H5bQA/l3RbnckV7xYEBBV8Ku6B6dWFZu3wChFce3aW5FdIN6dfFejBCVgLuJXiOjAFsqt9ADcZWQd5lYrXWVgtMF16dKTam2C8kFcyMqeEHgQcM9FraG3jYavu4U9tdLdKNBt4dP+orjMrbUrUlbrlH4FG7i3uX03BCcjXn56Ne0btuISaEGCF2DK54to+lD4DF1wilBF4e32EGmyd35MMGEzNtfRCucT3i6X4BIIAx81ObBDhgFSShPmGk8QMdY48dod1A7ybNVpgXomATEoAxBJtpFX4G8MAUG9FPqklUimM7N5pQQ3IB13uoZ1ZeqFsXna+nkbJrq8w0N+gEK23Tf+YaNNwgvq5x/d+LyWqAGKQY75t8+lZax3nV03F2td6QA11Mu01C6BJgsPcpW+RJxruXD+sMd6avx4DNpIux1CeaaddsptmTS978HN2N3QcY93aZizM+189nCZFGDecUd3T/VggcDXFG4Nawn4J60afmEYu7oEntuV7AelxK9lG41CiM+mbL4KhgA11x96stCAp93UQPzDU7xOILSCzODwMEorLgcq6DJytz7TaJtJ2qlF2lDQt9FjHVw1tA/CHZn2IcSfUmkjbthqNvsYOyYzIAOKrv21Js03SrTxjOezUzRpKHGVP91SYf2f96/enxb9ovMx9Uw+XFdTgRSlUzreFQ5XTIM60dOzqywVobwaVYUKsrrg9j2rrq5NFfMnwxy2ZVN7aaxgat0SBRYw11QDzmcWM194iutSF8ggu8qkoFRz67h5rgI9Ta9JStWrKWNHcCqT9abXhI3lsNPLV4SsQujTx9GoEn1sPeNMzMPK+fOTSvK9NKSg4FRJ2QV3kVkqvtipIymIxh+ilAw6x4HaICsppAQvcRloquOWjTCxds9hh+iZOP1kqwWC+LFIy+NZLWCWlM9iHCVkqZTIIKwpIP2mcg58R2lsABDKNBWM3EYb+1nQBLXZ61MPzjUwQ5B0E0ugtUPmkvA3CFmuCscTN3RFNZSPStjQDwNONsQCEJhBNWRfK7YMyukoqKOXFbhAjpQovhoOa6WA92cq5jJgBi5stwBlNXbbb0QjZTT0BxaD4OOyx4kksgQ6kEkA0LWvCw6HRPDgo5XySHSY6l9TC2Y9K3iDkdFT2m1ItI1ov+P6kkiAGiTfoH6AGmkz2nNtJzFy4Dw2PcwsF/TAUXDXRN0h8IfWUlh85gBH3B0PSknDAh5dv+OFD44eo6nyJi2DTiaeG/lWL2fay+ncxTm5zszaxjqUvZzPew9iLjtNAYFTC7Nd6bEnOJhYOfVY4HQ/XN7uJPZdjjO0gn4yF0fOB0l7NFSY5nOIR/fNA+j2vREOxEE47QXdWYE9hoKbNVGeiT698v9zPyrXzX7KLerbEql9ohrPxV9w/c33gxEpPsZD+gfbw6v9sA8xCmM9jx5y5AvrToOqTs011YWBtOtKGfUoHGc2+9z9JlOR0Ug8JMWT6WJYHzDNMebEidPWNoPKTjwC5mnKvitYP00//R4PkiPg91OprJI5sr/9I+PDTJDvOvAMZD3ADkPp9BQ7NSlDlg6wrXTv9AOSiQHlKEKRCxOskL+UrNQsLiUm8AzPaAf/S+Tc4pM70LZU5BXlTaARVNkKmDElPLOCDXM4wBljgs4xT0VYwp8PT4vw+zOIUqs+rB/9KlI8OvDmoHpSWz8wqsLjT9pjNPNT5E94a/T2I4wD9Uniow5HOlI88qXT9I7dPLKn06DT3yPAWYJ09Jsx6Owqk/Q3PlCdPRCq1zzvQPP4qdPUiqf+VTa4A4q9FAd0h0pKuHL7ztKvIV0q4c4aPBOpozFyxzhpjM6/0HPOSJdz2k+SJDAOM8WOy8aY9IBPD3QobPQC75e5oXGmQseTLCqFJrPNCus5gv4gRA2rB4LrFJMLfD8wo7O8uIc9ewNjgjUaJGmctM+kGqrzTbp/IY47J2s/cLF0QR0Ri9HPIGC08nP7FuHdu2p1h7en09FgFZe23tk/X/0vtni5+2kjzdeRX/9YHbPj4dolam7Id//QZW4VxWYR3rKoNP/1UdjS/R2tL17GepXo/Iex3fHM45BPNzshnpOmhoLhfYmLpqB6lkoF0Gg2JKfk/1ZwsWQF2D3QHfROypTHqmom6LPNDUJqGeObwHmJsCRyK2Jw/vQmgw9jV4nWd2apjXR9+MJv23Ml7q2Z7mq7RiuwDMeXdiTMXRCxwAMMNsCRiImMP1LCYP0mBa5I2UL504KN53shehLWE8Y2O2ZDEX2hoR30WA8Y5CfjANQt2WydO/8wwA7IusyEp58Sdvf6ANP83WYlI+KM9ENy0OGHq0NHbIwAozXCBzA0m7yeSWThrxfgic2+tr8G+tUiEcIbAOVd9YgXEFxsB4nSyMWgeBzWkWQsI51DyhvUI6Gukwu1cxoBvsaSVwxYsgTofxUa4ZJnVuPXBCgj7royk7lMMK8LmvgQbtQ01pSAZaoRL3Yw+4BaExJlA152rgH/slzLmkqy/r8cP3CYb60WyAbQFXkBoCiWKOTYCojinEFIboIGhq/yZ21GV8+iKZKJ4DMyDJuHrqtJRuZZYdYBRZ164ZZGNJ3IHrQjrk67+Hzr7tUa9koI0xJuXwEG66N+VzDefLoxPDBhcsp3MLXCyAS2H5Ux5TMLgpZScLHJBIozODoAyjk3cP1ZanQSxGYIdqKLD9QDDsiscRa28Xo/VDcNvA2QykMghS4HBI0w+qKrN5YtaUm7/D2bg0rRO0ru5p2YLQQSGkVqhUPh7ok2G2W5hMMacoOiuTs+oJnVPD2Tq3UuhreZOzL1BuPYybuyPCTAJg0+rtor6MJWNtWnTJG2O+l+nsSU1PAFFgRK9G8cA79EdOCi6DQKOSjgotwytPdWbfrO0sr1Y2Ludx+CbLvXVUq+Msq7pjCLKAGjo+cLQGpipHKBu60+t0swpQwbqgBrFctV7Ew24wBdzjHcv6t7xQHsSUBbCIA1RrMsKDOx9WNOw9wDEvvDgL901X1TH7qdTkr5Cl/qPuS9gu7LD3EsfOvDQ4RA1rYSRrfazhZCpS7bbzYJSu/uANSaaSP7Uj++pWzDdQrsj6zrC5vAgH3yBAe2zys+QvlUhB/O2q8uu7vUbbxw9cNW97bvp36XDrfQms5hzJzmqilUa9CLFyef8ipT6h6GINx6SwLmuaE0cHvxiCiNuBxKBiD4ecaZaibpqxvPlCY1kGX1V3LJDwHrHKtxsbIt07nXy1C/y3JvAnztKvZEfrBtrYb2TGrRA4fmd11csAjLkRo26ad7O3hB29ozM72WJzix72MSMcCcJ+1I1LjQqQbEnYY6HoIdznPQ6AFCJ4SUGoOtoV/bzwwkEOwB68/o7kxw6zhZx5Yh9acNHcfPHxCSCIxwGwFhADeFxuU1IAQAGsGQAAiGQAGiGQACuGQAF6GQAB+GN2kABC73WpAAOwZAAMbTAAEF9IAAo5IX8ILchhA4QREH840nncnBAuAQABnlQAE7TQAEQVQAH2GQAEmGQAGuGQADKGQAHKGQACKGD2mem+9bRxqfAAOB1AAU0Vmn0rdaf6Adp53I9yJQN1ClRQqRlvalqLmN2npM/DEC9llO4OW078xMRG2xlqrdWzPdAc9XLH4ly3STAhObKd7WZElyKMSLNhzYfWP1gDYfAINncJpq+h9oGkrrpXZJc2uzGAJg8bRnVgPXC+yuJMBUXAjxeSUQB5vwGDX0Fs8y4PZlKMiH3cDBcEEIxd2TT+shGzIoWXtZyWMr5EIAzTwFjpV5cFTgABz3sAWAQRQ0L0OjzADwuJ0Ev1Tsx/CHkMmvrYcQ7zcBYmNVCYnsiJliddlg0oTCpS+MhuDfhHkNqUgQGNVVJ1UKQWXWVLT6XhANAS0iLYjyIqXEOI0qtW6gFXhgEiYp1EepUpx6vgFHqtoh0HiBc5RJKIY/ZoQC3qZAZyUug1xqyOlLIRNjEaBKwJ9hubYWBgQDR6G9DT9VoKVSX9uXwP9iQOU+36MaBWiRFT0N3odIhWZiuuPF3oa5+nLnwchReRbB5AdGX2kOl42DiAfQQaGP8L0PaoD4TVWFAe8Dek6fcMFYxF9WALS9iP2PXRA8ILfvCgFEeUqKfgdn2noQ1DkxfShBmkQVMcpnNLTMLSaTIjNOImUdmbSZOyfmrcu6dDVjEJZhhpba0WeALHWYbdBcFZ0Snrscul5fAoep52OqBvburBh6atuVyv7YwXHTBWFKE6M9BXgAPRTEgPV4xmoPHqknfZ8AxH8h2OCTnsJuOXDq4pIOeFWhdWbTXeHa/q6aN3apSn/SXMCAQoFkA+MgdtWYdEK8ATh2Obpi44eOPjgE4NrETh1txOMqweAvTB4DfNubIHq7ZuehVBVxZ4x7DecW/bThzXu2PHoJwxr/eLFIL5HEOXotgEzj0E+ypel8ZIWKoe+ZoAJm1Vjq8oMifbG+mucpUH2v7kdUZZcds8zFzImW1LvrRWEzEb4Y+qRbwoOMGFAKbKQEAwh2Ozlm24EeqWuA3nCeW2QswbQ9OeG8EqkVROIUmDykjosa2bgxodlrhQdD+KUWhEpZPsWLcU1TBhO/q5SoUftZKrYee+T3XyzvL8HTwF7QnxLpUeq6dfv1YTPd1ft9HBz570zoQItCxAqsEK79Xz5rveTnHHs4TbAKASYHm580KzTLAscWvV5ed0O1SrhEJbOZ8eGHzwO+FwnjJ/zQFGS3DwqFiyxVqKhGPm69Os49avtwsXsIBTB/uMMJXe26kcOZuZVd9/zAtxaA6za9voNRyJQ+D+zj6uogBzTpAPcUUuruoQxZPcKj2mITx7YjxYdJ/WxbQHEGgIYF7V0AIShFimgrWirx/sMLO0TwwIYxrnfG6ikCFvyAICg5CsiZa6MNb2cWniAaz9fpRKZF6e0YH8ADFKkoUXLaM2nvuVRrrjqxqBQ1gaHb81VDoJnLth5i5L/V8lHr8uOWnn+rZCVWf6WIei/iUOyJksX1AGcxivt549Xki8r6Pn6+H1fJcz5v57a4AXmUYxIWvtr4hAKIKYhWC0snHh7KNawb+8elR3x50axvnp8hBwQKb8gIr34o72jsHCfZ0Y7g+b+gDZJcQ56L2TZFPiJrEnUUWVulDWnLGeSB0qpMNQdQA3QfM11EoTyqzT/2VZYY+TiNoMPuDwAE4SQ+Wcy4cLGbq8aNPCdRw+AhIv3o1DXokb8cMafkHshv3cX2zy/7IwBLgwMwvKwxVX6siqRY0u+DYc//TnBN2fYsXiHKroDzfdpVZl3hHqJKDaa7RMRGIwgvFqUH0toXmij6Z/Zv0G9lnzAwDOeQ2hLwAZgZPf/1wgJ9YMdmlyGQEwaQ1yNzhw/9SNOKyQMqdCYffq5T/Qe/sgCrEgoHSLRxOiw2LuRIYEnBkg9oMQjbwm6E4rOLImvBhkg1LdePsnGfo6OZ/eTzn8K+JMyEawv1K+Hz0Pmocgl+ZLgc8He3q+1wAPSEEjOEUElokbQDjQT9FHAU/EVGiMRG+fj0k8rmDzgPiH244aB+QsgERqEyHduxEDX4z0kLgLQHaAHXnfmgg1XUBVzs+uimM2zpUdAPH3iYEsn9+Ivi3+7AN5okAQNMhMAkIxLX5YXQFLEanRlueo2pC9VBvecHyj46kTWQLQFyCQkArUIBBcYQuHiAL8hu0w5QKk/PRKo/YFKAVLFzgrozLoHH00gd/z4YkuGPAOP0kYWqi/I0cXs2ARBskF0nwB+jn8A+EmWYJ5U9AFmk+kMAPhIQqgkIh7guEk9Gn0cLUZwz3E+wRmzzIjV0pEIUV+41vGBkdYl8cR0h6oy4lkgoLTgEDdEpijjQ0gTjGUq7jTaa7jT+y4WVuOLZH/2C0mB6ugOWcF2Azo+IjqkR2Hfk9mi0kDvESBoMlour3Gz6cQM0kdZlm0L4ADwHWjGugIw48L7W6ko0gV6zqCHEPJCle3/CNEl5WoGDiD+8J2VdAuPgYgvsBrgxEAnEzQh+4mkixka4kyaEgmD4ktyRc0DiBE02B8+033JuwdRdqtzxhGqX2Uejz0zuJM0NYRnmGgPMik81uhk8lAOMkU6x+mDsk4oTsniaPdQouiUhDyIuRxW5W1Mea3RF+QcjXS4vxsecclgBchEdYLxiUQbCD5kuGB4QhACCG8EhEQYiE24m12kQXALkQLCEUQKdkwQ53HUAcaGrAaXltYdAB9iGQn8g6CDJBEAEgAscwqwaAAqwLWFs8JAChAtAHzQbQFBAcuhIA83HDki3DaADAH5BAgDm4mQHBAmQFoAUIHzQtvWN+rCHJBJAEW4JAGmCbQAqw4IA1BFWDaA+aDQALWFBAcoLaAuaHBAvIMyA8IHRAAgD1B9xllBoIDQALvmVBpILRBFWFoA8IDQA+aFoAuaH1BU3HzQ+aF6q6IHlBMzBUAcunhAAgCxAVoPRA+aBq4sc3hAUjkNQKoJZB2xCxAPIIYAmQAYA6IDt6AgFzQm6XFBWIFoAloNH4oIA1BG8Fm4ZWDbAAgAzBuaFtiSYKgAAgCkcnIPuM9xhIAn/ihAjvXhAdvWCgHIN9BDAHNBAgAYAuaAqwMoJzBmQHzQmQChACiFRB5IIrEcdmpBdEgBEdIJV2dYMD4caD8kpADgkw7TS89kynBRgBiqgui3MiAFsAttV/mtABGI7AA38H+nZ43ASaQB4PAiJ4PiAtgGvBU/lvB3QEPBO5WcgEDjIAz4PxstYAPBT4FoA0jQwAFuFRY0igewtSGvBaBFfBXOgAhQEPcACOHtcw7UghV1j/Bb4Nghu4AnAArwaA4EIyAP4ONsqEK50u4joAb+HiBqLGvBFiAIhwCDvQuABwh8QCGMlAS4AlAmR2H+2Yhb4LBypEGNA5EMwhh5l9gtEJfCrEK50cCmQhCggIhH2y50MmDpibcHIhtEPsA4lAiO093oQ4slkQ+HwQAkcCYBFcAOaYM3L+eMH4hYkLfBoYnIhkij3A/oF0hekO/COayRgtEI4hbAHIh6Lx2YS0B0GH23SqokJYhekJ8mw7Wsh7TQ548ELtgYOVMhYkNf8WamEh0EIChEkKduUCA54gAHWGSZ5FPQAD1DF7Q3aIAAJhhqegAH6GQAAlDIlDJnoAAYBm3AdNHW+UKEiAxoFVqOFDqULTFmU5QFWuVIQaAgAFgGQAD2DIABABkAAkJqAAF7NAAN0MgAGGGZKGAAbjlAAIGRgACsGQAChioABO7UAASQyAAY2tAAF0eOTx6hDT0AA6gyAAMwZAACIMgAD8GQACaDIAAgBh9o8z0AAqwyAAG4YynkHRAAPcMZT1ihPtHtogAF2GMp6AAWYZ7aIlDAABD/ylXqhIFSUAT0P4OgAElvQACQ/x7RAVPM9AAAMMkUJShZTxqegAHztQACjER7RFoYAAxBnqhgAGUGGp62AGp7jUQADD+oAAQtz6hgADu3FGEjQwABwZlNDAALPKgAAIzBaErQjaH+Qj7ac8ehCGQ5wDGQogBkwt8FjAtaAp6UIB4Q7FQCQ8yGdDDwBWQziEc8eHDc8ZiHOQ5iH7gtyHkBDyHcwrnQW4MPSEwTNbtNFyFvgoSF/QFCFswsKFtQLiElUcAoKAaWGsCDyJG6cEAAAUlje3YgBY0NjnwP6Hh4C3klMIuHegf9DdIyADaA4IB1husI0AdMMu8lMI54RkOfAzsPZhsgk5hosJshHPCsI4BUoC/MMF08lQPB1ENsA3EIxeGAHIhWYKxAUoPBAwUAThCcPRAuaCUAJAHFBaAHBAQwDaAnoLKwtnlzQP/m1BEIFcwioM9BH/jaA58gYAeoIxAaABEg23TQABcIEA44NMhVEKXqtgB8hXkPEhKcPPkOcLaAnYL6qA4NzQmQHRAkIC1BJAHDk6IDHBjvRIA+aB7hKgDHBOYOtBDAA/8qhAEAUIBUA6IHHhAYILB7YKhAWoNBALcIDhI+j8A0sOI2CTH4KxGmvBQsPJhjOw3czOyvhbMIIANyCX+qWSAI14PhAssK50ph2CQa4FZAEsMDh78ODh3QDfOb52ZBBk1CAa4MoAG4LByaXmXBLoPJBmIP9iu0GeA9IOBAqCOyMTIJiqrcN2AHZAoSeQAqqi4LPBWohohiEVwA7PFzQoCLRBiCOygOkFQRNADjQcCL0AQAA== -->

<!-- internal state end -->
--
author:	gemini-code-assist
association:	none
edited:	false
status:	none
--
## Summary of Changes

Hello @hdkz-dev, I'm Gemini Code Assist[^1]! I'm currently reviewing this pull request and will post my feedback shortly. In the meantime, here's a summary to help you and other reviewers quickly get up to speed!

This pull request establishes the robust core framework for the multi-game-engines project, laying the groundwork for integrating diverse game AI engines. It introduces a fully functional Stockfish adapter, showcasing the framework's capabilities in loading, communicating with, and managing high-performance engines. The changes significantly enhance the project's architectural integrity, developer experience, and future extensibility by focusing on modularity, type safety, and modern web standards.

### Highlights

* **Core Framework Implementation**: Implemented foundational components including EngineBridge, EngineFacade, EngineLoader, CapabilityDetector, SecurityAdvisor, WorkerCommunicator, and FileStorage to manage engine lifecycle and interactions.
* **Stockfish Engine Adapter**: Developed the initial StockfishAdapter, enabling CDN-based loading of Stockfish WASM and communication via the UCI protocol.
* **Enhanced Type Safety and Error Handling**: Improved type safety across the project, minimizing 'any' usage and introducing a robust EngineError class for consistent error management.
* **Comprehensive Unit Testing**: Added 22 unit test cases to ensure the reliability and correctness of all major core components.
* **Bilingual Documentation**: Updated and organized project documentation, providing both Japanese and English versions for broader accessibility.
* **CI/CD Configuration**: Configured GitHub Actions to automate linting, building, and testing processes, ensuring code quality and continuous integration.

<details>
<summary><b>Changelog</b></summary>

* **ARCHITECTURE.md**
    * Renamed the architecture document to 'docs/ARCHITECTURE.md' and expanded core concepts to include EngineLoader and WorkerCommunicator.
* **CONTRIBUTING.md**
    * Updated contributing guidelines to be bilingual (Japanese and English).
* **README.md**
    * Updated the main README to be bilingual, including project vision, technical stack, and documentation links.
* **docs/PROGRESS.md**
    * Updated the project progress, marking several core and adapter implementation phases as complete and detailing recent achievements.
* **docs/TASKS.md**
    * Marked several core logic, infrastructure, and adapter tasks as completed.
* **docs/en/ARCHITECTURE.md**
    * Added a new English version of the architecture and design document.
* **docs/en/TECHNICAL_SPECS.md**
    * Added a new English document detailing technical specifications.
* **docs/reviews/comment_2777900128.json**
    * Added a review comment JSON file regarding an ESM import issue in 'package.json'.
* **docs/reviews/comment_2777900136.json**
    * Added a review comment JSON file regarding a potential issue with the 'fill' mode overwriting non-sensitive keys.
* **docs/reviews/comment_2777900138.json**
    * Added a review comment JSON file regarding error handling and exit codes in a script.
* **docs/reviews/pr_review_comments.md**
    * Added a markdown file summarizing pull request review comments.
* **examples/simple-chess/index.html**
    * Added a basic HTML example demonstrating the Stockfish WASM engine.
* **mcp_config.example.json**
    * Moved the example configuration file to the documentation directory.
* **packages/adapter-stockfish/src/stockfish.ts**
    * Implemented the StockfishAdapter class, handling engine loading, communication, and search.
* **packages/core/src/__tests__/BaseAdapter.test.ts**
    * Added unit tests for the BaseAdapter class.
* **packages/core/src/__tests__/CapabilityDetector.test.ts**
    * Added unit tests for the CapabilityDetector class.
* **packages/core/src/__tests__/EngineBridge.test.ts**
    * Added unit tests for EngineBridge and EngineFacade middleware application.
* **packages/core/src/__tests__/EngineError.test.ts**
    * Added unit tests for the EngineError class.
* **packages/core/src/__tests__/EngineLoader.test.ts**
    * Added unit tests for the EngineLoader class.
* **packages/core/src/__tests__/FileStorage.test.ts**
    * Added unit tests for IndexedDBStorage.
* **packages/core/src/__tests__/SecurityAdvisor.test.ts**
    * Added unit tests for the SecurityAdvisor class.
* **packages/core/src/__tests__/UCIParser.test.ts**
    * Added unit tests for the UCIParser class.
* **packages/core/src/__tests__/WorkerCommunicator.test.ts**
    * Added unit tests for the WorkerCommunicator class.
* **packages/core/src/adapters/BaseAdapter.ts**
    * Added the abstract BaseAdapter class for engine adapters.
* **packages/core/src/adapters/index.ts**
    * Exported BaseAdapter.
* **packages/core/src/bridge/EngineBridge.ts**
    * Added the EngineBridge class for managing engine adapters and middleware.
* **packages/core/src/bridge/EngineFacade.ts**
    * Added the EngineFacade class, providing a user-facing interface to engines.
* **packages/core/src/bridge/EngineLoader.ts**
    * Added the EngineLoader class for secure and cached resource loading.
* **packages/core/src/bridge/index.ts**
    * Exported EngineBridge, EngineFacade, and EngineLoader.
* **packages/core/src/capabilities/CapabilityDetector.ts**
    * Added the CapabilityDetector class for environment capability detection.
* **packages/core/src/capabilities/SecurityAdvisor.ts**
    * Added the SecurityAdvisor class for security status and SRI validation.
* **packages/core/src/capabilities/index.ts**
    * Exported CapabilityDetector and SecurityAdvisor.
* **packages/core/src/errors/EngineError.ts**
    * Added the EngineError class for standardized error handling.
* **packages/core/src/index.ts**
    * Updated the main export file to include new core modules.
* **packages/core/src/protocols/UCIParser.ts**
    * Added the UCIParser class for parsing UCI protocol messages.
* **packages/core/src/protocols/index.ts**
    * Exported UCIParser.
* **packages/core/src/storage/IndexedDBStorage.ts**
    * Added the IndexedDBStorage class for IndexedDB-based file storage.
* **packages/core/src/storage/OPFSStorage.ts**
    * Added the OPFSStorage class for Origin Private File System-based storage.
* **packages/core/src/storage/index.ts**
    * Exported storage implementations and a factory function createFileStorage.
* **packages/core/src/types.ts**
    * Updated core TypeScript interfaces to support new features like IMiddlewareContext options, IEngineLoader, and refined IEngineAdapter methods.
* **packages/core/src/workers/WorkerCommunicator.ts**
    * Added the WorkerCommunicator class for robust WebWorker communication.
* **packages/core/src/workers/index.ts**
    * Exported WorkerCommunicator.
* **pnpm-lock.yaml**
    * Updated the pnpm lock file to reflect new dependencies and changes.
</details>

<details>
<summary><b>Ignored Files</b></summary>

*   **Ignored by pattern:** `.github/workflows/**` (1)
    *   .github/workflows/ci.yml
</details>

<details>
<summary><b>Activity</b></summary>

* The pull request introduces a comprehensive core framework and a Stockfish adapter.
* CodeRabbit AI provided a detailed review with 12 actionable comments, categorized as 'Potential issue | Critical' and 'Potential issue | Major'.
* Key critical issues identified include ESM import syntax problems in 'package.json' scripts and incorrect handling of environment variables in 'fill' mode.
* Another major issue highlighted was the lack of 'process.exit(1)' calls on error in scripts, leading to silent failures.
* Additionally, CodeRabbit AI provided 23 minor comments and 42 nitpick comments across various files, primarily related to documentation, best practices, and code consistency within the '.agent/skills' directory.
</details>

<details>
<summary><b>Using Gemini Code Assist</b></summary>
<br>

The full guide for Gemini Code Assist can be found on our [documentation page](https://developers.google.com/gemini-code-assist/docs/review-github-code), here are some quick tips.

<b>Invoking Gemini</b>

You can request assistance from Gemini at any point by creating a comment using either `/gemini <command>` or `@gemini-code-assist <command>`. Below is a summary of the supported commands on the current page.

Feature | Command | Description
--- | --- | ---
Code Review | `/gemini review` | Performs a code review for the current pull request in its current state.
Pull Request Summary | `/gemini summary` | Provides a summary of the current pull request in its current state.
Comment | @gemini-code-assist | Responds in comments when explicitly tagged, both in pull request comments and review comments.
Help | `/gemini help` | Displays a list of available commands.

<b>Customization</b>

To customize Gemini Code Assist for GitHub experience, repository maintainers can create a configuration file and/or provide a custom code review style guide (such as PEP-8 for Python) by creating and adding files to a `.gemini/` folder in the base of the repository. Detailed instructions can be found [here](https://developers.google.com/gemini-code-assist/docs/customize-gemini-behavior-github).

<b>Limitations & Feedback</b>

Gemini Code Assist may make mistakes. Please leave feedback on any instances where its feedback is incorrect or counter productive. You can react with :thumbsup: and :thumbsdown: on @gemini-code-assist comments. If you're interested in giving your feedback about your experience with Gemini Code Assist for Github and other Google products, sign up [here](https://google.qualtrics.com/jfe/form/SV_2cyuGuTWsEw84yG).

<b>You can also get AI-powered code generation, chat, as well as code reviews directly in the IDE at no cost with the [Gemini Code Assist IDE Extension](https://cloud.google.com/products/gemini/code-assist).</b>
</details>


[^1]: Review the [Privacy Notices](https://policies.google.com/privacy), [Generative AI Prohibited Use Policy](https://policies.google.com/terms/generative-ai/use-policy), [Terms of Service](https://policies.google.com/terms), and learn how to configure Gemini Code Assist in GitHub [here](https://developers.google.com/gemini-code-assist/docs/customize-gemini-behavior-github). Gemini can make mistakes, so double check it and [use code with caution](https://support.google.com/legal/answer/13505487).

--
author:	gemini-code-assist
association:	none
edited:	false
status:	commented
--
## Code Review

ã“ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€ã‚³ã‚¢ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨Stockfishã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’å®Ÿè£…ã™ã‚‹å¤§ããªé€²æ­©ã§ã™ã€‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€Facadeãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®æ›´æ–°ã€Branded Typesã‚„ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã«ã‚ˆã‚‹å …ç‰¢ãªå‹å®‰å…¨æ€§ãªã©ã€ç¾ä»£çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã£ã¦éå¸¸ã«ã‚ˆãè¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€é–¢å¿ƒã®åˆ†é›¢ã‚‚æ˜ç¢ºã§ã™ã€‚ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨å‹•ä½œã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ç‚¹ã‚‚ç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚ã—ã‹ã—ã€ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ‘ãƒ¼ã‚µãƒ¼ã«ãŠã‘ã‚‹æ½œåœ¨çš„ãªUCIã‚³ãƒãƒ³ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã¨ã€Stockfishã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼è¨­å®šã«ãŠã‘ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®SRIãƒãƒªã‚·ãƒ¼é•åã¨ã„ã†2ã¤ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡ŒãŒç‰¹å®šã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®å•é¡Œã«å¯¾å‡¦ã™ã‚‹ã“ã¨ã§ã€ã‚¨ãƒ³ã‚¸ãƒ³é€šä¿¡ã¨ãƒªã‚½ãƒ¼ã‚¹èª­ã¿è¾¼ã¿ã®å …ç‰¢æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒç¢ºä¿ã•ã‚Œã¾ã™ã€‚ã¾ãŸã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ãƒã‚°ãŒ1ä»¶ã¨ã€ã‚³ãƒ¼ãƒ‰ã®æ˜ç¢ºæ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®ææ¡ˆãŒ1ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚å…¨ä½“ã¨ã—ã¦ã€ã“ã‚Œã¯è³ªã®é«˜ã„è²¢çŒ®ã§ã™ã€‚
--
author:	coderabbitai
association:	none
edited:	false
status:	commented
--
**Actionable comments posted: 16**

> [!NOTE]
> Due to the large number of review comments, Critical, Major severity comments were prioritized as inline comments.

> [!CAUTION]
> Some comments are outside the diff and canâ€™t be posted inline due to platform limitations.
> 
> 
> 
> <details>
> <summary>âš ï¸ Outside diff range comments (1)</summary><blockquote>
> 
> <details>
> <summary>docs/TASKS.md (1)</summary><blockquote>
> 
> `35-35`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_
> 
> **ãƒ•ã‚§ãƒ¼ã‚º 2 ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒå®Ÿæ…‹ã¨ä¸€è‡´ã—ã¦ã„ã¾ã›ã‚“ã€‚**
> 
> 2-1 ã® `adapter-stockfish` ã¨ `UCI/USI Parser` ãŒå®Œäº†æ¸ˆã¿ï¼ˆ`[x]`ï¼‰ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€ãƒ•ã‚§ãƒ¼ã‚º 2 ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒã€Œè¨ˆç”»ä¸­ã€ã®ã¾ã¾ã§ã™ã€‚ã€Œé€²è¡Œä¸­ã€ã«æ›´æ–°ã™ã¹ãã§ã™ã€‚
> 
> </blockquote></details>
> 
> </blockquote></details>

<details>
<summary>ğŸ¤– Fix all issues with AI agents</summary>

```
In `@packages/adapter-stockfish/src/stockfish.ts`:
- Around line 40-49: The sources.main entry currently has empty sri and zero
size which disables SRI; update the sources: Record<string, IEngineSourceConfig>
object by adding a clear TODO above the main entry (or inline) stating that
production must set the exact SRI hash and file size, e.g. reference the sources
constant and the main key in stockfish.ts (IEngineSourceConfig) and replace sri:
"" and size: 0 with placeholder values plus a TODO comment; additionally, ensure
build-time validation is noted in the comment (e.g. "TODO: generate SRI & size
at build and fail/warn if unset") so reviewers know to add SRI
generation/validation before release.
- Around line 88-94: The UCI init Promise.race can timeout but leaves the
expectMessage() registration in pendingExpectations, so pending handlers may
later resolve incorrectly; update the UCI init logic to cancel/cleanup the
pending expectation when timeout occurs â€” e.g., create an AbortController (or
accept/return a cancel token) and pass its signal to
expectMessage<string>((data)=>data==="uciok", signal) or have expectMessage
return a disposer and call it in the timeout branch/finally; ensure the
pendingExpectations entry is removed (or the expectation rejects) when the
timeout fires so no stray resolver runs after the adapter is errored (refer to
expectMessage, pendingExpectations, communicator.postMessage("uci") and the UCI
initialization Promise.race).
- Around line 125-169: searchRaw currently creates resultPromise without a
reject path and overwrites this.pendingResolve on each call, causing orphaned
promises; change searchRaw to create Promise<IBaseSearchResult>((resolve,
reject) => { ... }) and store both this.pendingResolve and this.pendingReject
(unique symbols to locate: searchRaw, this.pendingResolve) then when starting a
new search, if a previous this.pendingReject exists call it with an appropriate
error before overwriting to avoid leaks; ensure any worker error/terminate
handlers call this.pendingReject and clear both pendingResolve/pendingReject
after resolve or reject so no promises remain unresolved.

In `@packages/core/src/__tests__/EngineBridge.test.ts`:
- Around line 11-12: Replace the forbidden use of `any` in the test adapter
declaration: change the generic on `BaseAdapter` in `class MockAdapter extends
BaseAdapter<any, IBaseSearchInfo, IBaseSearchResult>` to a safe type (either
`unknown` with guards or the bounded generic `IBaseSearchOptions`) and import
`IBaseSearchOptions` from `../types`; update the class signature to use
`IBaseSearchOptions` (or `unknown`) and ensure any places that relied on `any`
are adjusted to satisfy the stricter type (add minimal type guards or casts in
the test if necessary).

In `@packages/core/src/__tests__/UCIParser.test.ts`:
- Around line 36-38: Replace the prohibited "as any" on the fen property with
the branded FEN type: import the FEN brand type and change the test value to be
typed as FEN (e.g., assign the string to a variable typed FEN or cast to FEN) so
the fen field uses the domain-specific brand instead of any; update the test's
fen usage accordingly (refer to the fen property and the FEN brand type).

In `@packages/core/src/bridge/EngineBridge.ts`:
- Around line 105-122: getEngine currently constructs a new EngineFacade on each
call so multiple calls for the same id produce independent facades (separate
activeTask state) which breaks cross-facade coordination (auto-abort). Fix by
caching EngineFacade instances inside EngineBridge: add a facades Map keyed by
id, return the cached EngineFacade if present, and only create+store a new
EngineFacade (using adapter, sortedMiddlewares, this) when none exists; ensure
you invalidate or update the cached facade when adapters or middlewares change.
Reference symbols: getEngine, EngineFacade, activeTask, adapters, middlewares on
EngineBridge.
- Around line 82-98: The registerAdapter logic currently calls
adapter.onStatusChange, adapter.onProgress and adapter.onTelemetry without
retaining unsubscribe callbacks, causing leaks and duplicate events when an
adapter with the same id is re-registered; modify registerAdapter to store the
unsubscribe functions (e.g., in a new Map keyed by adapter.id) for each
subscription returned by onStatusChange/onProgress/onTelemetry (handle optional
onTelemetry with ?.), and when an adapter with that id already exists call and
clear those stored unsubscribers before attaching new listeners (also ensure
unsubscribers are called when removing adapters); update references to adapters,
statusListeners, progressListeners and telemetryListeners accordingly.

In `@packages/core/src/bridge/EngineFacade.ts`:
- Around line 94-98: If options.signal may already be aborted when search() is
called, check options.signal.aborted before adding the event listener and call
task.stop() immediately in that case; keep the existing addEventListener(...)
with { once: true } for future aborts. Concretely, before
options.signal.addEventListener(...) inspect options.signal.aborted and invoke
task.stop() if true, otherwise attach the listener that calls task.stop()
(referencing options.signal, addEventListener, and task.stop).

In `@packages/core/src/bridge/EngineLoader.ts`:
- Around line 23-31: loadResource ã® SRI ãƒã‚§ãƒƒã‚¯ã¯ falsy åˆ¤å®šã®ãŸã‚ç©ºæ–‡å­—åˆ— "" ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ã—ã¾ã„ SRI
æ¤œè¨¼ãŒãƒã‚¤ãƒ‘ã‚¹ã•ã‚Œã‚‹ãŸã‚ã€IEngineSourceConfig.sri ãŒç©ºæ–‡å­—åˆ—ã®å ´åˆã‚’æ˜ç¤ºçš„ã«ä¸æ­£æ‰±ã„ã«ã—ã¦å¤±æ•—ã•ã›ã¦ãã ã•ã„; å…·ä½“çš„ã«ã¯
EngineLoader.ts ã® loadResource å†…ã®æ¡ä»¶ã‚’å˜ãªã‚‹ `if (config.sri && ...)`
ã‹ã‚‰ç©ºæ–‡å­—åˆ—ã‚‚æ¤œå‡ºã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã«å¤‰æ›´ã—ã€ç©ºã¾ãŸã¯æœªè¨­å®šã® SRI ã®ã¨ãã¯ EngineError(EngineErrorCode.SRI_MISMATCH,
...) ã‚’æŠ•ã’ã—ã¦å‡¦ç†ã‚’ä¸­æ–­ã—ã€ã¾ãŸ SecurityAdvisor.getSafeFetchOptions ã‚’å‘¼ã¶å‰ã« config.sri
ãŒæœ‰åŠ¹ãªãƒãƒƒã‚·ãƒ¥ã§ã‚ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ï¼ˆå‚ç…§ã‚·ãƒ³ãƒœãƒ«: loadResource, IEngineSourceConfig.sri,
SecurityAdvisor.getSafeFetchOptions, EngineError, EngineErrorCodeï¼‰ã€‚

In `@packages/core/src/capabilities/CapabilityDetector.ts`:
- Around line 17-18: ã“ã®è¡Œã§ä½¿ã£ã¦ã„ã‚‹ `globalThis as any` ã‚’ç¦æ­¢ã•ã‚ŒãŸ `any`
ã‚’ä½¿ã‚ãªã„å½¢ã«ç½®ãæ›ãˆã¦ãã ã•ã„: å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«å¿…è¦ãªã‚°ãƒ­ãƒ¼ãƒãƒ« API ã ã‘ã‚’å«ã‚€å°ã•ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆä¾‹: CapabilityDetector
ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰/ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ç¾¤ï¼‰ã‚’ä½œã‚Šã€`g` ã‚’ãã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å‹ï¼ˆã¾ãŸã¯ `unknown`
ã‚’ä½¿ã£ã¦ã‹ã‚‰å‹ã‚¬ãƒ¼ãƒ‰ã§æ¤œè¨¼ï¼‰ã«ã‚­ãƒ£ã‚¹ãƒˆã—ã¦ã‹ã‚‰ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¦ãã ã•ã„; å¯¾è±¡ã‚·ãƒ³ãƒœãƒ«ã¯å¤‰æ•° `g` ã¨ãƒ•ã‚¡ã‚¤ãƒ«å†…ã® CapabilityDetector
å‘¨è¾ºã®ã‚°ãƒ­ãƒ¼ãƒãƒ«å‚ç…§ã§ã™ã€‚

In `@packages/core/src/errors/EngineError.ts`:
- Around line 19-24: Replace the unsafe "any" casts around captureStackTrace by
declaring a small V8-specific type and casting Error through unknown to that
interface, then use optional chaining to call captureStackTrace; specifically,
create an interface (e.g. V8ErrorConstructor with captureStackTrace?: (target:
Function, ctor?: Function) => void), cast Error as unknown as
V8ErrorConstructor, and invoke v8Error.captureStackTrace?.(this, EngineError)
instead of using (Error as any).captureStackTrace and (Error as
any).captureStackTrace(this, EngineError); this removes any while keeping type
safety around EngineError and captureStackTrace usage.

In `@packages/core/src/index.ts`:
- Around line 1-8: The root export file is re-exporting concrete internal
classes (BaseAdapter, WorkerCommunicator, EngineBridge, EngineFacade,
EngineLoader, OPFSStorage, IndexedDBStorage) which exposes implementation
details; update the submodule index files to export only the public interfaces
and factory creators (e.g., export IEngine, IEngineAdapter, and any
createXFactory functions) and remove exports of the concrete classes, then
update the central exports in packages/core/src/index.ts to only re-export those
interfaces and factories (not the concrete symbols) so consumers see IEngine and
IEngineAdapter-only surface; ensure any code that needs the concrete classes
remains internal to the module or accessed via factory functions.

In `@packages/core/src/protocols/UCIParser.ts`:
- Around line 79-86: The createSearchCommand currently concatenates "position
fen ..." and "go ..." into one newline-separated string; change it to return an
array of individual UCI commands (e.g., ["position fen ...", "go ..."]) so each
command is sent separately: update the createSearchCommand signature in
IProtocolParser to return string[] (or an agreed tuple) and modify
createSearchCommand (referenced by name and using IBaseSearchOptions) to build a
first element "position fen {options.fen}" and a second element "go" with
depth/movetime/nodes appended to that second string; also update all callers to
accept and send each array element as a separate UCI command.

In `@packages/core/src/storage/OPFSStorage.ts`:
- Around line 17-23: In set(), ensure the FileSystemWritableFileStream returned
by fileHandle.createWritable() is always finalized: wrap the write/close in
try/catch and on error call writable.abort() (and rethrow) so the stream/file
lock is released; reference the set method, the writable variable and
fileHandle.getFileHandle/createWritableâ€”replace the current await
writable.write(data); await writable.close(); with a try { await
writable.write(data); await writable.close(); } catch (err) { await
writable.abort().catch(()=>{}); throw err; } to guarantee no leaked writable
stream.

In `@packages/core/src/types.ts`:
- Around line 451-454: The global subscription methods onGlobalStatusChange and
onGlobalTelemetry currently donâ€™t return unsubscribe functions, causing
inconsistency with IEngineAdapter.onStatusChange/onProgress/onTelemetry which
return () => void; change the signatures in IEngineBridge (or the containing
type) so both onGlobalStatusChange(callback: (id: string, status: EngineStatus)
=> void) and onGlobalTelemetry(callback: (id: string, event: ITelemetryEvent) =>
void) return a () => void unsubscribe function, and update any implementations
to return a closure that removes the listener when invoked.

In `@packages/core/src/workers/WorkerCommunicator.ts`:
- Around line 105-112: terminate() currently clears pendingExpectations without
rejecting their Promises, causing any callers awaiting expectMessage() to hang;
update terminate() (in WorkerCommunicator) to iterate over
this.pendingExpectations and call reject(new Error('Worker terminated')) for
each pending entry (matching how onerror rejects expectations), then clear() the
map and proceed to terminate the worker and clear messageListeners; ensure you
reference the expectMessage() contract so the rejection message is meaningful
and avoid double-rejecting by checking if an entry has an associated reject
function before invoking it.
```

</details>

<details>
<summary>ğŸŸ¡ Minor comments (7)</summary><blockquote>

<details>
<summary>README.md-36-37 (1)</summary><blockquote>

`36-37`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**è‹±èªç‰ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã€ŒComing soonã€è¡¨è¨˜ãŒå®Ÿæ…‹ã¨ä¸€è‡´ã—ã¦ã„ã¾ã›ã‚“ã€‚**

`docs/en/ARCHITECTURE.md` ã¨ `docs/en/TECHNICAL_SPECS.md` ã¯ã©ã¡ã‚‰ã‚‚æœ¬ PR ã§å®Ÿéš›ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ã€ŒComing soonã€ã®ã¾ã¾ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«èª¤è§£ã‚’ä¸ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ä¸¡æ–¹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦ã€ã“ã®è¡¨è¨˜ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>ğŸ“ ä¿®æ­£æ¡ˆ</summary>

```diff
-- [Architecture & Design](docs/en/ARCHITECTURE.md) (Coming soon)
-- [Technical Specifications](docs/en/TECHNICAL_SPECS.md) (Coming soon)
+- [Architecture & Design](docs/en/ARCHITECTURE.md)
+- [Technical Specifications](docs/en/TECHNICAL_SPECS.md)
```
</details>

</blockquote></details>
<details>
<summary>.github/workflows/ci.yml-25-28 (1)</summary><blockquote>

`25-28`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**`pnpm/action-setup` ã‚’ v4 ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„**

`pnpm/action-setup@v3` ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ãŒã€æœ€æ–°ã® v4 ãŒåˆ©ç”¨å¯èƒ½ã§ã™ã€‚v4.2.0 ãŒç¾åœ¨ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚Šã€`pnpm/action-setup@v4` ã¸ã®æ›´æ–°ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/__tests__/FileStorage.test.ts-30-42 (1)</summary><blockquote>

`30-42`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**ãƒ†ã‚¹ãƒˆãŒéå¸¸ã«æµ…ãã€`set` ã® Promise ãŒãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚**

1. `void storage.set(...)` ã§ Promise ã‚’æ¨ã¦ã¦ã„ã‚‹ãŸã‚ã€å†…éƒ¨ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚æ¤œå‡ºã§ãã¾ã›ã‚“ï¼ˆunhandled rejection ã®ãƒªã‚¹ã‚¯ï¼‰ã€‚
2. ãƒ†ã‚¹ãƒˆã¯ `open` ã®å‘¼ã³å‡ºã—ç¢ºèªã®ã¿ã§ã€`set` / `get` / `has` ãªã©ã®å®Ÿéš›ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ“ä½œãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ã‚’æ¤œè¨¼ã—ã¦ã„ã¾ã›ã‚“ã€‚
3. `request.onsuccess()` ã®æ‰‹å‹•ç™ºç«ã¯ã€`getDB` ã® Promise è§£æ±ºã‚’æ­£ã—ãã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦ã„ã¾ã™ãŒã€ãã®å¾Œã® `set` å†…éƒ¨ã® transaction æ“ä½œã® `onsuccess` ã¯ç™ºç«ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€`set` ã® Promise ã¯æ°¸ä¹…ã« pending ã®ã¾ã¾ã§ã™ã€‚

å°‘ãªãã¨ã‚‚ `set` ã‚’ `await` ã—ã€transaction ãƒ¢ãƒƒã‚¯ã® `onsuccess` ã‚‚ç™ºç«ã•ã›ã¦ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ“ä½œã®å®Œäº†ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/protocols/UCIParser.ts-28-51 (1)</summary><blockquote>

`28-51`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**`parseInt` ã« `undefined` ãŒæ¸¡ã•ã‚ŒãŸå ´åˆã® `NaN` ãƒªã‚¹ã‚¯ã€‚**

ä¸æ­£ãªå½¢å¼ã® info è¡Œï¼ˆä¾‹: `"info depth"` ã§ãƒˆãƒ¼ã‚¯ãƒ³ãŒé€”ä¸­ã§çµ‚äº†ï¼‰ã®å ´åˆã€`parts[++i]` ãŒ `undefined` ã«ãªã‚Šã€`parseInt(undefined, 10)` ã¯ `NaN` ã‚’è¿”ã—ã¾ã™ã€‚ãƒ‘ãƒ¼ã‚µãƒ¼ã¨ã—ã¦æœ€ä½é™ã®é˜²å¾¡ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å…¥ã‚Œã‚‹ã‹ã€`NaN` ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>ğŸ›¡ï¸ ä¾‹: depth ãƒ‘ãƒ¼ã‚¹ã®é˜²å¾¡</summary>

```diff
        case "depth":
-          info.depth = parseInt(parts[++i], 10);
+          info.depth = parseInt(parts[++i], 10) || 0;
           break;
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/storage/OPFSStorage.ts-10-15 (1)</summary><blockquote>

`10-15`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**`getRoot()` ã§å¤±æ•—ã—ãŸ Promise ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒæ°¸ç¶šçš„ã«å£Šã‚Œã‚‹**

`navigator.storage.getDirectory()` ãŒ reject ã—ãŸå ´åˆã€reject æ¸ˆã¿ã® Promise ãŒ `rootPromise` ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œç¶šã‘ã‚‹ãŸã‚ã€ä»¥é™ã®ã™ã¹ã¦ã®æ“ä½œãŒåŒã˜ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã—ç¶šã‘ã¾ã™ã€‚

<details>
<summary>ğŸ› reject æ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ä¿®æ­£æ¡ˆ</summary>

```diff
   private getRoot(): Promise<FileSystemDirectoryHandle> {
     if (!this.rootPromise) {
-      this.rootPromise = navigator.storage.getDirectory();
+      this.rootPromise = navigator.storage.getDirectory().catch((err) => {
+        this.rootPromise = null;
+        throw err;
+      });
     }
     return this.rootPromise;
   }
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/bridge/EngineBridge.ts-62-71 (1)</summary><blockquote>

`62-71`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**`loaderPromise` ã® reject æ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç„¡åŠ¹åŒ–ã•ã‚Œãªã„**

`checkCapabilities()` ã‚„ `createFileStorage()` ãŒå¤±æ•—ã—ãŸå ´åˆã€reject æ¸ˆã¿ã® Promise ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã€ä»¥é™ã® `getLoader()` å‘¼ã³å‡ºã—ãŒã™ã¹ã¦åŒã˜ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã—ç¶šã‘ã¾ã™ã€‚

<details>
<summary>â™»ï¸ ä¿®æ­£æ¡ˆ</summary>

```diff
   async getLoader(): Promise<IEngineLoader> {
     if (!this.loaderPromise) {
       this.loaderPromise = (async () => {
         const caps = await this.checkCapabilities();
         const storage = createFileStorage(caps);
         return new EngineLoader(storage);
-      })();
+      })().catch((err) => {
+        this.loaderPromise = null;
+        throw err;
+      });
     }
     return this.loaderPromise;
   }
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/adapters/BaseAdapter.ts-63-65 (1)</summary><blockquote>

`63-65`: _âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**`prefetch?()` ã®ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å¥‘ç´„ã‚’ä¿®æ­£ã—ã¦ãã ã•ã„**

`IEngineAdapter` ã§ `prefetch?()` ã¯çœç•¥å¯èƒ½ãªãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ãŒã€`BaseAdapter` ã§å®Ÿè£…æœ¬ä½“ã‚’æŒã¤ãŸã‚ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§å¸¸ã«å­˜åœ¨ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å¥‘ç´„ï¼ˆçœç•¥å¯èƒ½ï¼‰ã¨å®Ÿè£…ã®å®Ÿæ…‹ï¼ˆå¸¸ã«å­˜åœ¨ï¼‰ãŒçŸ›ç›¾ã—ã¦ã„ã‚‹ãŸã‚ã€å‘¼ã³å‡ºã—å´ãŒ `adapter.prefetch?.()` ã§å®‰å…¨ã«å‘¼ã³å‡ºã™ã‹ã€ã‚ã‚‹ã„ã¯ç„¡æ¡ä»¶ã«å‘¼ã³å‡ºã™ã‹ãŒä¸æ˜ç¢ºã«ãªã‚Šã¾ã™ã€‚

**ä¿®æ­£æ¡ˆ**:
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨å®Ÿè£…ã‹ã‚‰ `?` ã‚’å‰Šé™¤ã—ã¦ã€ãƒ¡ã‚½ãƒƒãƒ‰ãŒå¸¸ã«å­˜åœ¨ã™ã‚‹ã“ã¨ã‚’æ˜ç¤ºã™ã‚‹ã‹
- ã¾ãŸã¯ã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹ãŒçœŸã«çœç•¥å¯èƒ½ãªå®Ÿè£…ã‚’æä¾›ã§ãã‚‹ã‚ˆã†ã€`BaseAdapter` ã§ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã›ãšã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã®å®Ÿè£…ã«å§”ã­ã‚‹ã‹

</blockquote></details>

</blockquote></details>

<details>
<summary>ğŸ§¹ Nitpick comments (24)</summary><blockquote>

<details>
<summary>docs/reviews/comment_2777900136.json (1)</summary><blockquote>

`1-12`: **ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãƒªãƒã‚¸ãƒˆãƒªã« JSON ã¨ã—ã¦ä¿å­˜ã™ã‚‹æ„å›³ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚**

è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã®ã¯ä¸€èˆ¬çš„ã§ã¯ãªãã€ãƒªãƒã‚¸ãƒˆãƒªã®è‚¥å¤§åŒ–ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è² è·ã®åŸå› ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ã‚³ãƒ¡ãƒ³ãƒˆã¯ GitHub API çµŒç”±ã§ã„ã¤ã§ã‚‚å–å¾—å¯èƒ½ã§ã™ã€‚æ„å›³çš„ãªé‹ç”¨ã§ã‚ã‚Œã°å•é¡Œã‚ã‚Šã¾ã›ã‚“ãŒã€ä¸è¦ã§ã‚ã‚Œã° `.gitignore` ã«è¿½åŠ ã™ã‚‹ã‹ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/__tests__/EngineError.test.ts (1)</summary><blockquote>

`5-24`: **`EngineError.from()` ã®ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚**

åŸºæœ¬çš„ãªãƒ‘ã‚¹ã¯ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã¾ã™ãŒã€ä»¥ä¸‹ã®ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆè¿½åŠ ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ï¼š

1. `EngineError.from()` ã«æ—¢å­˜ã® `EngineError` ã‚’æ¸¡ã—ãŸå ´åˆï¼ˆãã®ã¾ã¾è¿”å´ã•ã‚Œã‚‹ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãƒ‘ã‚¹ï¼‰
2. `EngineError.from()` ã«æ–‡å­—åˆ—ã‚„ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚’æ¸¡ã—ãŸå ´åˆ
3. `error.name` ãŒ `"EngineError"` ã§ã‚ã‚‹ã“ã¨ã®æ¤œè¨¼

<details>
<summary>ğŸ§ª è¿½åŠ ãƒ†ã‚¹ãƒˆæ¡ˆ</summary>

```diff
+  it("should return the same EngineError instance when passed to from()", () => {
+    const original = new EngineError(
+      EngineErrorCode.WASM_INIT_FAILED,
+      "test",
+      "stockfish"
+    );
+    const result = EngineError.from(original, "other-engine");
+    expect(result).toBe(original);
+    expect(result.engineId).toBe("stockfish"); // engineId is NOT overwritten
+  });
+
+  it("should handle non-Error values in from()", () => {
+    const error = EngineError.from("string error");
+    expect(error.message).toBe("string error");
+    expect(error.code).toBe(EngineErrorCode.UNKNOWN_ERROR);
+  });
+
+  it("should have name set to EngineError", () => {
+    const error = new EngineError(EngineErrorCode.UNKNOWN_ERROR, "test");
+    expect(error.name).toBe("EngineError");
+  });
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/capabilities/SecurityAdvisor.ts (2)</summary><blockquote>

`42-50`: **`getSafeFetchOptions` å†…ã§ `isValidSRI` ã‚’å‘¼ã³å‡ºã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼ã‚’è¡Œã†ã¹ãã§ã™ã€‚**

ç„¡åŠ¹ãª SRI æ–‡å­—åˆ—ãŒãã®ã¾ã¾ `integrity` ã«æ¸¡ã•ã‚Œã‚‹ã¨ã€ãƒ–ãƒ©ã‚¦ã‚¶ã® fetch ãŒäºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚åŒã˜ã‚¯ãƒ©ã‚¹ã« `isValidSRI` ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã®ã§ã€ã“ã“ã§æ´»ç”¨ã—ã¦æ—©æœŸã«ä¸æ­£å€¤ã‚’å¼¾ãã®ãŒå®‰å…¨ã§ã™ã€‚

<details>
<summary>ğŸ›¡ï¸ ä¿®æ­£æ¡ˆ</summary>

```diff
 static getSafeFetchOptions(sri?: string): RequestInit {
-  if (!sri) return {};
+  if (!sri || !SecurityAdvisor.isValidSRI(sri)) return {};
   
   return {
     integrity: sri,
     mode: "cors",
     credentials: "omit",
   };
 }
```
</details>

Based on learnings: "Implement SRI (Subresource Integrity) verification and COOP/COEP header diagnostics as core essential elements"

---

`35-37`: **SRI æ­£è¦è¡¨ç¾ãŒãƒãƒ«ãƒãƒãƒƒã‚·ãƒ¥å½¢å¼ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚**

[W3C SRI ä»•æ§˜](https://www.w3.org/TR/SRI/) ã§ã¯ã€`integrity` å±æ€§ã«ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§è¤‡æ•°ã®ãƒãƒƒã‚·ãƒ¥ã‚’æŒ‡å®šå¯èƒ½ã§ã™ï¼ˆä¾‹: `sha256-abc sha384-def`ï¼‰ã€‚ç¾åœ¨ã®æ­£è¦è¡¨ç¾ã¯å˜ä¸€ãƒãƒƒã‚·ãƒ¥ã®ã¿è¨±å®¹ã—ã¦ã„ã¾ã™ã€‚å°†æ¥çš„ã«ãƒãƒ«ãƒãƒãƒƒã‚·ãƒ¥å¯¾å¿œãŒå¿…è¦ã«ãªã£ãŸå ´åˆã«å‚™ãˆã€ç¾æ™‚ç‚¹ã§ã®åˆ¶é™ã‚’ JSDoc ã«æ˜è¨˜ã—ã¦ãŠãã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/types.ts (1)</summary><blockquote>

`341-342`: **`import` æ–‡ãŒãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­é–“ã«é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚**

TypeScript ã®æ…£ä¾‹ã§ã¯ `import` ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã«ã¾ã¨ã‚ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚å¾ªç’°ä¾å­˜ã®å›é¿ã‚„ã‚³ãƒ¼ãƒ‰æ§‹æˆä¸Šã®ç†ç”±ãŒã‚ã‚‹å ´åˆã¯ã‚³ãƒ¡ãƒ³ãƒˆã§æ„å›³ã‚’æ˜è¨˜ã™ã‚‹ã¨ã€ä»–ã®é–‹ç™ºè€…ã«ã¨ã£ã¦åˆ†ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã™ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/__tests__/SecurityAdvisor.test.ts (2)</summary><blockquote>

`4-29`: **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä¸ååˆ†ã§ã™ã€‚**

ä»¥ä¸‹ã®ã‚·ãƒŠãƒªã‚ªã®ãƒ†ã‚¹ãƒˆãŒæ¬ ã‘ã¦ã„ã¾ã™:

1. **`crossOriginIsolated = true` ã®ã‚±ãƒ¼ã‚¹**: `isCrossOriginIsolated`ã€`canUseThreads`ã€`missingHeaders` ãŒ `undefined`ã€`recommendedActions` ãŒ `undefined` ã¨ãªã‚‹ã“ã¨ã®æ¤œè¨¼
2. **`sriSupported` ã®æ¤œè¨¼**: ç¾åœ¨ã®ãƒ¢ãƒƒã‚¯ï¼ˆ`createElement` ãŒ `{}` ã‚’è¿”ã™ï¼‰ã§ã¯ `sriSupported` ã¯ `false` ã«ãªã‚‹ã¯ãšã§ã™ãŒã€ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“ã€‚`integrity` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤ãƒ¢ãƒƒã‚¯ã§ã® `true` ã‚±ãƒ¼ã‚¹ã‚‚å¿…è¦ã§ã™
3. **`getSafeFetchOptions(undefined)` / `getSafeFetchOptions("")`**: SRI ãªã—ã®å ´åˆã«ç©ºã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¿”ã‚‹ã“ã¨ã®æ¤œè¨¼
4. **`credentials: "omit"` ã®æ¤œè¨¼**: fetch ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã® `credentials` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæœªæ¤œè¨¼ã§ã™

<details>
<summary>ğŸ’¡ è¿½åŠ ãƒ†ã‚¹ãƒˆä¾‹</summary>

```typescript
it("should report no missing headers when cross-origin isolated", () => {
  vi.stubGlobal("crossOriginIsolated", true);
  const status = SecurityAdvisor.getStatus();
  expect(status.isCrossOriginIsolated).toBe(true);
  expect(status.canUseThreads).toBe(true);
  expect(status.missingHeaders).toBeUndefined();
  expect(status.recommendedActions).toBeUndefined();
});

it("should detect sriSupported when integrity attribute exists", () => {
  vi.stubGlobal("document", {
    createElement: vi.fn().mockReturnValue({ integrity: "" }),
  });
  const status = SecurityAdvisor.getStatus();
  expect(status.sriSupported).toBe(true);
});

it("should return empty options when no SRI provided", () => {
  expect(SecurityAdvisor.getSafeFetchOptions()).toEqual({});
  expect(SecurityAdvisor.getSafeFetchOptions("")).toEqual({});
});
```
</details>

Based on learnings: "Implement SRI (Subresource Integrity) verification and COOP/COEP header diagnostics as core essential elements"

---

`5-10`: **`afterEach` ã§ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ãƒ–ã®ãƒªã‚¹ãƒˆã‚¢ãŒæ¬ ã‘ã¦ã„ã¾ã™ã€‚**

`vi.stubGlobal` ã§å¤‰æ›´ã—ãŸã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¯ã€ãƒ†ã‚¹ãƒˆé–“ã®ãƒªãƒ¼ã‚¯é˜²æ­¢ã®ãŸã‚ã« `afterEach` ã§æ˜ç¤ºçš„ã«ãƒªã‚¹ãƒˆã‚¢ã™ã‚‹ã‹ã€Vitest ã® `restoreMocks` è¨­å®šãŒæœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

<details>
<summary>â™»ï¸ ä¿®æ­£æ¡ˆ</summary>

```diff
+import { describe, it, expect, vi, beforeEach, afterEach } from "vitest";
 ...
 describe("SecurityAdvisor", () => {
   beforeEach(() => {
     vi.stubGlobal("crossOriginIsolated", false);
     vi.stubGlobal("document", {
       createElement: vi.fn().mockReturnValue({}),
     });
   });
+
+  afterEach(() => {
+    vi.unstubAllGlobals();
+  });
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/__tests__/CapabilityDetector.test.ts (2)</summary><blockquote>

`4-16`: **`afterEach` ã§ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ãƒ–ã®ãƒªã‚¹ãƒˆã‚¢ãŒæ¬ ã‘ã¦ã„ã¾ã™ã€‚**

SecurityAdvisor ã®ãƒ†ã‚¹ãƒˆã¨åŒæ§˜ã«ã€`vi.unstubAllGlobals()` ã‚’ `afterEach` ã§å‘¼ã³å‡ºã—ã¦ãƒ†ã‚¹ãƒˆé–“ã®åˆ†é›¢ã‚’ä¿è¨¼ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>â™»ï¸ ä¿®æ­£æ¡ˆ</summary>

```diff
+import { describe, it, expect, vi, beforeEach, afterEach } from "vitest";
 ...
 describe("CapabilityDetector", () => {
   beforeEach(() => {
     ...
   });
+
+  afterEach(() => {
+    vi.unstubAllGlobals();
+  });
```
</details>

---

`18-26`: **`wasmSimd` ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒçœç•¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚**

`checkWasmSimd` ã¯å®Ÿéš›ã® `WebAssembly.validate` ã«ä¾å­˜ã™ã‚‹ãŸã‚ãƒ¢ãƒƒã‚¯ãŒå›°é›£ãªã“ã¨ã¯ç†è§£ã§ãã¾ã™ã€‚ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã® `wasmSimd` ã®å€¤ãŒä¸å®šã§ã‚ã‚‹æ—¨ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã§æ˜è¨˜ã—ã¦ãŠãã¨ã€ä»Šå¾Œã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ™‚ã«æ··ä¹±ã‚’é˜²ã’ã¾ã™ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/bridge/index.ts (1)</summary><blockquote>

`1-3`: **`EngineLoader` ã®å…¬é–‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«ã¤ã„ã¦ç¢ºèª**

`EngineLoader` ã¯ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚„SRIæ¤œè¨¼ã‚’è¡Œã†ã‚¤ãƒ³ãƒ•ãƒ©å±¤ã§ã‚ã‚Šã€é€šå¸¸ã¯ `EngineBridge` / `EngineFacade` ã®å†…éƒ¨ã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒå‘ã‘ãƒãƒ¬ãƒ«ã‹ã‚‰ç›´æ¥ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã¨ã€Facade ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹æŠ½è±¡åŒ–ãŒå¼±ã¾ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ä½œæˆè€…å‘ã‘ã«å¿…è¦ãªå ´åˆã¯ã€åˆ¥é€” `internal` ãƒãƒ¬ãƒ«ã‚„ã‚µãƒ–ãƒ‘ã‚¹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¨ã—ã¦å…¬é–‹ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚Based on learnings: "Maintain the `IEngine` interface as a pure consumer-facing API and hide adapter implementation details using the Facade pattern".

</blockquote></details>
<details>
<summary>examples/simple-chess/index.html (2)</summary><blockquote>

`54-69`: **Facade ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿‚å›ã™ã‚‹ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹**

`adapter.onStatusChange` / `adapter.onProgress`ï¼ˆLine 61-69ï¼‰ã§ç›´æ¥ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­ã—ã¦ã„ã¾ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‚è€ƒã«ã™ã‚‹é‡è¦ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹ãŸã‚ã€`engine`ï¼ˆFacade çµŒç”±ï¼‰ã‚’é€šã˜ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚„é€²æ—ã‚’å–å¾—ã™ã‚‹ API ã‚’æä¾›ãƒ»ä½¿ç”¨ã™ã‚‹å½¢ãŒæœ›ã¾ã—ã„ã§ã™ã€‚

ç¾çŠ¶ã®æ›¸ãæ–¹ã§ã¯ã€ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒãŒã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã®å†…éƒ¨å®Ÿè£…ã«ä¾å­˜ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã‚“ã§ã—ã¾ã„ã¾ã™ã€‚

Based on learnings: "Maintain the `IEngine` interface as a pure consumer-facing API and hide adapter implementation details using the Facade pattern".

---

`88-91`: **`fen` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å‹å®‰å…¨æ€§ã«é–¢ã™ã‚‹æ³¨è¨˜**

ã‚µãƒ³ãƒ—ãƒ«ãŒ vanilla JS ã§ã‚ã‚‹ãŸã‚ TypeScript ã®ãƒ–ãƒ©ãƒ³ãƒ‰å‹ã¯é©ç”¨ã•ã‚Œã¾ã›ã‚“ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆç­‰ã§ `FEN` å‹ã‚’ä½¿ç”¨ã™ã¹ãæ—¨ã‚’è¨˜è¼‰ã—ã¦ãŠãã¨ã€TypeScript ã§åˆ©ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã«ãªã‚Šã¾ã™ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/__tests__/EngineBridge.test.ts (1)</summary><blockquote>

`57-72`: **ã“ã®ãƒ†ã‚¹ãƒˆã¯ `EngineBridge` ã§ã¯ãªã `BaseAdapter` ã®æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã¾ã™ã€‚**

`EngineBridge` ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆåã§ã™ãŒã€æœ€åˆã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯ `adapter.onStatusChange` ã®ã¿ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãŠã‚Šã€`EngineBridge` ã‚„ `EngineFacade` ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚`BaseAdapter.test.ts` ã«æ—¢ã«é¡ä¼¼ã®ãƒ†ã‚¹ãƒˆãŒã‚ã‚‹ãŸã‚ã€é‡è¤‡ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/__tests__/WorkerCommunicator.test.ts (1)</summary><blockquote>

`17-33`: **`mockWorker` ã®ãƒ¢ãƒƒã‚¯é–¢æ•°ãŒãƒ†ã‚¹ãƒˆé–“ã§ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚**

`beforeEach` ã§ `Worker` ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ãƒ–ã¯å†è¨­å®šã•ã‚Œã¾ã™ãŒã€`mockWorker` è‡ªä½“ã® `vi.fn()` (`postMessage`, `terminate` ç­‰) ã‚„ `onmessage` / `onerror` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã›ã‚“ã€‚ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œé †åºã«ä¾å­˜ã—ãŸå½é™½æ€§ãƒ»å½é™°æ€§ãŒç™ºç”Ÿã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚

<details>
<summary>â™»ï¸ ä¿®æ­£æ¡ˆ</summary>

```diff
  beforeEach(() => {
+   vi.clearAllMocks();
+   mockWorker.onmessage = null;
+   mockWorker.onerror = null;
    // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å‘¼ã³å‡ºã—ã‚’å†ç¾ã™ã‚‹ãŸã‚ function ã‚’ä½¿ç”¨ã€‚å†…éƒ¨è¿”å´å€¤ã®ãŸã‚ any ã‚’è¨±å®¹ã€‚
    const WorkerMock = vi.fn(function() {
      return mockWorker;
    });
    vi.stubGlobal("Worker", WorkerMock);
  });
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/__tests__/EngineLoader.test.ts (1)</summary><blockquote>

`35-59`: **åŸºæœ¬çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ/ãƒŸã‚¹ã®ãƒ†ã‚¹ãƒˆã¯é©åˆ‡ã§ã™ãŒã€SRI æ¤œè¨¼ã®ãƒ†ã‚¹ãƒˆãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚**

ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã¯ SRI ãƒãƒƒã‚·ãƒ¥æ¤œè¨¼ãŒå¿…é ˆã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚`mockConfig` ã« `sri` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ãŒã€ä»¥ä¸‹ã®ã‚·ãƒŠãƒªã‚ªãŒã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼š

- SRI ãƒãƒƒã‚·ãƒ¥ä¸ä¸€è‡´æ™‚ã«ãƒ­ãƒ¼ãƒ‰ãŒæ‹’å¦ã•ã‚Œã‚‹ã“ã¨
- fetch ã® `integrity` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã« SRI å€¤ãŒæ¸¡ã•ã‚Œã‚‹ã“ã¨

ã“ã‚Œã‚‰ã®ãƒ†ã‚¹ãƒˆè¿½åŠ ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

</blockquote></details>
<details>
<summary>packages/core/src/bridge/EngineLoader.ts (2)</summary><blockquote>

`33-33`: **SRI ãŒç©ºã®å ´åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ãŒä¸å®‰å®šã«ãªã‚‹**

`config.sri` ãŒç©ºæ–‡å­—åˆ—ã®å ´åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã¯ `"stockfish_"` ã®ã‚ˆã†ã«ãªã‚Šã€åŒä¸€ã‚¨ãƒ³ã‚¸ãƒ³ã®ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåŒºåˆ¥ã§ãã¾ã›ã‚“ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„URLãƒãƒƒã‚·ãƒ¥ã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚­ãƒ¼ã¨ã—ã¦å«ã‚ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚


<details>
<summary>â™»ï¸ ææ¡ˆ</summary>

```diff
-    const cacheKey = `${engineId}_${config.sri}`;
+    const cacheKey = config.sri
+      ? `${engineId}_${config.sri}`
+      : `${engineId}_${config.url}`;
```
</details>

---

`42-52`: **`fetch` ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚„ `AbortSignal` ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„**

ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³æ™‚ã« `fetch` ãŒç„¡æœŸé™ã«ãƒãƒ³ã‚°ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§æ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ `AbortSignal` ã‚’æ´»ç”¨ã—ã¦ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®šã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>â™»ï¸ AbortSignal.timeout ã‚’ä½¿ã£ãŸæ”¹å–„æ¡ˆ</summary>

```diff
     // 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒãªã„å ´åˆã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰å–å¾— (SRI æ¤œè¨¼ä»˜ã)
     const options = SecurityAdvisor.getSafeFetchOptions(config.sri);
-    const response = await fetch(config.url, options);
+    const response = await fetch(config.url, {
+      ...options,
+      signal: AbortSignal.timeout(30_000),
+    });
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/storage/OPFSStorage.ts (1)</summary><blockquote>

`56-63`: **`(root as any).keys()` ã¯ `any` ç¦æ­¢ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«é•å**

`FileSystemDirectoryHandle` ã® async iterable ã¯ TypeScript ã® `lib` è¨­å®šã«ã‚ˆã£ã¦ã¯å‹å®šç¾©ãŒä¸è¶³ã—ã¦ã„ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚`any` ã®ä»£ã‚ã‚Šã«å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’é™å®šçš„ã«ä½¿ã†ã‹ã€`d.ts` ã§å‹ã‚’è£œå®Œã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>â™»ï¸ å‹å®‰å…¨ãªä»£æ›¿æ¡ˆ</summary>

```diff
   async clear(): Promise<void> {
     const root = await this.getRoot();
-    // eslint-disable-next-line `@typescript-eslint/no-explicit-any`
-    for await (const name of (root as any).keys()) {
+    for await (const [name] of (root as AsyncIterable<[string, FileSystemHandle]>)) {
       await root.removeEntry(name, { recursive: true });
     }
   }
```

ã‚‚ã—ãã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å‹è£œå®Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ :
```typescript
// global.d.ts
interface FileSystemDirectoryHandle {
  keys(): AsyncIterableIterator<string>;
}
```
</details>

As per coding guidelines: ã€Œç¦æ­¢: `any` ã®ä½¿ç”¨ã€‚ä»£ã‚ã‚Šã« `unknown` ã¨å‹ã‚¬ãƒ¼ãƒ‰ã€ã¾ãŸã¯å¢ƒç•Œä»˜ãã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã€

</blockquote></details>
<details>
<summary>packages/core/src/storage/IndexedDBStorage.ts (1)</summary><blockquote>

`12-26`: **`IDBDatabase` æ¥ç¶šã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãŒä¸ååˆ†**

ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸ `this.db` ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´ã‚„æ¥ç¶šã‚¯ãƒ­ãƒ¼ã‚ºï¼ˆ`onclose`/`onversionchange` ã‚¤ãƒ™ãƒ³ãƒˆï¼‰ã‚’è¡Œã£ãŸå ´åˆã«ç„¡åŠ¹ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ç„¡åŠ¹ãªæ¥ç¶šã‚’å†åˆ©ç”¨ã™ã‚‹ã¨ã€å¾Œç¶šã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒ `InvalidStateError` ã§å¤±æ•—ã—ã¾ã™ã€‚

<details>
<summary>â™»ï¸ æ¥ç¶šã‚¯ãƒ­ãƒ¼ã‚ºæ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ææ¡ˆ</summary>

```diff
       request.onsuccess = () => {
         this.db = request.result;
+        this.db.onclose = () => { this.db = null; };
+        this.db.onversionchange = () => {
+          this.db?.close();
+          this.db = null;
+        };
         resolve(this.db);
       };
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/workers/WorkerCommunicator.ts (2)</summary><blockquote>

`86-90`: **`expectMessage()` ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒãªãã€æ°¸ä¹…ã«ãƒãƒ³ã‚°ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹**

Worker ãŒæœŸå¾…ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã•ãªã„å ´åˆã€Promise ãŒæ°¸é ã«è§£æ±ºã•ã‚Œã¾ã›ã‚“ã€‚`StockfishAdapter.load()` ã§ã¯ `Promise.race` ã§å¤–éƒ¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­ã‘ã¦ã„ã¾ã™ãŒã€`expectMessage` è‡ªä½“ã«ã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ©Ÿæ§‹ãŒãªãã€ä»–ã®å‘¼ã³å‡ºã—ç®‡æ‰€ã§ã‚‚åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å¼·åˆ¶ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

`AbortSignal` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¿½åŠ ã€ã¾ãŸã¯ `options.timeout` ã®å°å…¥ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã‚‚ `AbortSignal` ã®å„ªå…ˆæ¡ç”¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

`44-49`: **åŒä¸€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¤‡æ•°ã® `expectMessage` ã«ãƒãƒƒãƒã™ã‚‹å ´åˆã®æŒ™å‹•**

`for...of` ãƒ«ãƒ¼ãƒ—å†…ã§ `break` ã—ã¦ã„ãªã„ãŸã‚ã€åŒä¸€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¤‡æ•°ã® pending expectation ã‚’åŒæ™‚ã« resolve ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚ŒãŒæ„å›³çš„ãª fan-out ã§ã‚ã‚Œã°å•é¡Œã‚ã‚Šã¾ã›ã‚“ãŒã€é€šå¸¸ã¯æœ€åˆã«ãƒãƒƒãƒã—ãŸ expectation ã®ã¿è§£æ±ºã™ã‚‹ã®ãŒè‡ªç„¶ã§ã™ã€‚

<details>
<summary>â™»ï¸ æœ€åˆã®ãƒãƒƒãƒã§ break ã™ã‚‹æ¡ˆ</summary>

```diff
       for (const exp of this.pendingExpectations) {
         if (exp.predicate(e.data)) {
           this.pendingExpectations.delete(exp);
           exp.resolve(e.data);
+          break;
         }
       }
```
</details>

</blockquote></details>
<details>
<summary>packages/adapter-stockfish/src/stockfish.ts (3)</summary><blockquote>

`145-156`: **`AsyncIterable` ãŒä¸€åº¦ã—ã‹ã‚¤ãƒ†ãƒ¬ãƒ¼ãƒˆã§ããªã„**

`ReadableStream` ã®ãƒªãƒ¼ãƒ€ãƒ¼ã¯ä¸€ã¤ã—ã‹å–å¾—ã§ããªã„ãŸã‚ã€`Symbol.asyncIterator` ãŒè¤‡æ•°å›å‘¼ã°ã‚Œã‚‹ã¨ï¼ˆä¾‹: `for await...of` ã‚’2å›å®Ÿè¡Œï¼‰ã€2å›ç›®ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚`ISearchTask.info` ã®å¥‘ç´„ã¨ã—ã¦ä¸€åº¦é™ã‚Šã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§å•é¡Œãªã‘ã‚Œã°è¨±å®¹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ˜è¨˜ã™ã‚‹ã‹ã€å†åˆ©ç”¨å¯èƒ½ãªå®Ÿè£…ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

---

`158-159`: **`communicator?.postMessage(command)` ãŒã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒã‚§ãƒ¼ãƒ³ã§å¤±æ•—ã‚’ç„¡è¦–ã™ã‚‹**

`communicator` ãŒ `null` ã®å ´åˆã€ã‚³ãƒãƒ³ãƒ‰é€ä¿¡ãŒç„¡è¨€ã§å¤±æ•—ã—ã¾ã™ã€‚Line 126-128 ã§ `_status !== "ready"` ãƒã‚§ãƒƒã‚¯ãŒã‚ã‚‹ãŸã‚é€šå¸¸ã¯åˆ°é”ã—ã¾ã›ã‚“ãŒã€é˜²å¾¡çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹æ–¹ãŒå®‰å…¨ã§ã™ã€‚

---

`92-92`: **`expectMessage` ã® predicate ã§ `data` ã®å‹ãƒã‚§ãƒƒã‚¯ãŒä¸è¶³**

`data` ã¯ `unknown` å‹ã§ã™ãŒã€`data === "uciok"` ã§ç›´æ¥æ¯”è¼ƒã—ã¦ã„ã¾ã™ã€‚TypeScript ä¸Šã¯å‹•ä½œã—ã¾ã™ãŒã€Worker ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ `MessageEvent.data` çµŒç”±ã§æ¸¡ã•ã‚Œã‚‹ãŸã‚ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„ãã®ä»–ã®å‹ãŒæ¥ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æ˜ç¤ºçš„ã« `typeof data === "string"` ã‚’è¿½åŠ ã™ã‚‹ã¨ã‚ˆã‚Šå …ç‰¢ã§ã™ã€‚

</blockquote></details>

</blockquote></details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->
--
author:	coderabbitai
association:	none
edited:	false
status:	commented
--
**Actionable comments posted: 2**

<details>
<summary>ğŸ¤– Fix all issues with AI agents</summary>

```
In `@packages/core/src/workers/WorkerCommunicator.ts`:
- Around line 89-93: The expectMessage method currently blocks indefinitely;
modify expectMessage<T> to accept an optional options object (e.g., {
timeoutMs?: number, signal?: AbortSignal }) and make it cancelable: create the
Promise as before but register a timeout timer when timeoutMs is provided and
attach a signal.aborted listener when signal is provided (treat AbortSignal as
higher priority), ensure both the timer and listener remove the pending
expectation from this.pendingExpectations and reject the Promise with an
appropriate AbortError/TimeoutError; on successful resolve (predicate match)
clear the timer, remove the abort listener, and remove the expectation; also
guard against double-settling so resolve/reject only once.
- Around line 47-52: When processing incoming messages in the onmessage handler,
a single message can currently resolve multiple pending expectations because the
loop over pendingExpectations doesn't stop after the first match; update the
logic in WorkerCommunicator.ts so that after finding and handling the first
matching expectation (the one where exp.predicate(e.data) is true), you delete
it and call exp.resolve(e.data) then break out of the loop to avoid resolving
others; additionally wrap the call to exp.predicate(e.data) in a try/catch so a
thrown exception from predicate doesn't crash the handler and instead skips that
expectation (optionally logging the error) â€” look for the pendingExpectations
collection, the expectMessage usage, and the exp.predicate/exp.resolve calls to
apply the change.
```

</details>

<details>
<summary>ğŸ§¹ Nitpick comments (1)</summary><blockquote>

<details>
<summary>packages/core/src/workers/WorkerCommunicator.ts (1)</summary><blockquote>

`20-29`: **ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³é•å: `any` ã®ä½¿ç”¨**

`resolve` ã®å‹ã« `any` ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã¯ `any` ã®ä½¿ç”¨ã‚’ç¦æ­¢ã—ã€`unknown` ã¨å‹ã‚¬ãƒ¼ãƒ‰ã®ä½¿ç”¨ã‚’æ±‚ã‚ã¦ã„ã¾ã™ã€‚`Promise<T>` ã® resolve ã«å¯¾ã—ã¦ã¯ã€`unknown` ã‚’ä½¿ã„ `expectMessage` å´ã§å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†æ–¹æ³•ã§å›é¿å¯èƒ½ã§ã™ã€‚

<details>
<summary>â™»ï¸ ä¿®æ­£æ¡ˆ</summary>

```diff
   private pendingExpectations = new Set<{
     predicate: (data: unknown) => boolean;
-    /** 
-     * å¤–éƒ¨ã‹ã‚‰æŒ‡å®šã•ã‚ŒãŸä»»æ„ã®å‹ T ã¸å®‰å…¨ã«å¤‰æ›ã™ã‚‹ãŸã‚ã€
-     * Promise è§£æ±ºç”¨ã¨ã—ã¦æ„å›³çš„ã« any ã‚’ä½¿ç”¨ã€‚
-     */
-    // eslint-disable-next-line `@typescript-eslint/no-explicit-any`
-    resolve: (data: any) => void;
+    resolve: (data: unknown) => void;
     reject: (reason: Error) => void;
   }>();
```

`expectMessage` å†…ã® `resolve` ã¯ `Promise<T>` ã® resolve ã«æ¸¡ã•ã‚Œã‚‹ãŸã‚ã€å‘¼ã³å‡ºã—å…ƒã§ predicate ãŒå‹ã‚¬ãƒ¼ãƒ‰ã¨ã—ã¦æ©Ÿèƒ½ã—ã€å®Ÿè³ªçš„ã«å‹å®‰å…¨æ€§ã¯ç¶­æŒã•ã‚Œã¾ã™ã€‚
</details>

</blockquote></details>

</blockquote></details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->
--
author:	coderabbitai
association:	none
edited:	false
status:	commented
--
**Actionable comments posted: 8**

<details>
<summary>ğŸ¤– Fix all issues with AI agents</summary>

```
In @.github/workflows/ci.yml:
- Around line 43-44: CI step "Install dependencies" currently runs "pnpm
install" which can implicitly update pnpm-lock.yaml; change the run command in
that step (the Install dependencies step) to use "pnpm install
--frozen-lockfile" so the workflow fails if package.json and pnpm-lock.yaml
mismatch and prevents non-reproducible builds.

In `@packages/adapter-stockfish/src/stockfish.ts`:
- Around line 58-59: Replace the explicit any on pendingReject with unknown to
comply with the guideline: change the type of the field pendingReject from
((reason?: any) => void) | null to ((reason?: unknown) => void) | null (and
remove the now-unnecessary eslint-disable comment); if any callers inspect or
handle the rejection reason, add appropriate type guards or casts where they
access the rejected value.
- Around line 151-156: å‰å›ã®æ¤œç´¢ã‚’ä¸­æ–­ã™ã‚‹éš›ã« pendingReject/pendingResolve
ã‚’å‘¼ã‚“ã§Promiseã‚’ç ´æ£„ã—ã¦ã„ã‚‹ãŒã€å¤ã„ infoController ãŒ close ã•ã‚Œã¦ãŠã‚‰ãšå‰å›ã® info ã‚¹ãƒˆãƒªãƒ¼ãƒ ã® consumer
ãŒãƒãƒ³ã‚°ã™ã‚‹ãŸã‚ã€è©²å½“ç®‡æ‰€ï¼ˆä¾‹: startSearch / æ¤œç´¢é–‹å§‹ãƒ­ã‚¸ãƒƒã‚¯å†…ã® this.pendingReject ãƒ–ãƒ­ãƒƒã‚¯ï¼‰ã§
pendingReject ã‚’å‘¼ã¶å‰ã«ç¾åœ¨ã® this.infoController ãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ç¢ºå®Ÿã« close()
ã‚’å‘¼ã³ã€å¿…è¦ãªã‚‰ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠã‚’è§£é™¤ã—ã¦ã‹ã‚‰ this.infoController = null ã«ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¦ãã ã•ã„ï¼ˆnull è¨­å®šã¯
this.pendingReject/this.pendingResolve ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨æ•´åˆã•ã›ã‚‹ã“ã¨ï¼‰ã€‚
- Around line 205-221: The dispose() method currently only calls pendingReject
and leaves pendingResolve dangling and doesn't close the info stream; update
dispose() so after invoking pendingReject(...) you also set pendingResolve =
null and pendingReject = null to avoid lingering references, and if an
infoController exists call infoController.close() (or equivalent shutdown
method) and set infoController = null so any consumers of the info stream are
unblocked; keep the existing communicator termination, blobUrl revocation
(activeLoader.revoke(this.blobUrl)) and
emitStatusChange("terminated")/clearListeners() behavior.

In `@packages/core/src/bridge/EngineBridge.ts`:
- Around line 60-63: The file defines progressListeners (private
progressListeners) and forwards adapter progress events in registerAdapter but
lacks a public way to subscribe; add a new public method
onGlobalProgress(callback: (id: string, progress: ILoadProgress) => void): () =>
void to EngineBridge and declare it on the IEngineBridge interface; implement it
to add the callback to progressListeners and return an unsubscribe function
(mirroring onGlobalStatusChange/onGlobalTelemetry behavior) so adapter-forwarded
progress events are actually received by consumers.
- Around line 174-177: The implementation of onGlobalStatusChange and
onGlobalTelemetry returns an unsubscribe function (() => void) but IEngineBridge
currently types these methods as returning void; update the IEngineBridge
interface (methods onGlobalStatusChange and onGlobalTelemetry) to return () =>
void to match the implementation and JSDoc so callers accessing the API via the
interface can receive the unsubscribe function.

In `@packages/core/src/bridge/EngineLoader.ts`:
- Around line 44-47: The fetch and subsequent response.arrayBuffer() call in
EngineLoader (where you call fetch(config.url, {..., signal:
AbortSignal.timeout(30_000)})) must be wrapped in a single try/catch so any
network errors, SRI mismatch rejections, or arrayBuffer() failures are caught
and rethrown as an EngineError; update the logic around the fetch +
response.arrayBuffer() sequence to catch all exceptions, include the config.url
and HTTP status/context in the EngineError message, and preserve the original
error as the cause so callers of EngineLoader can handle failures uniformly.
- Line 39: EngineLoader.loadResource() currently hardcodes the Blob MIME type to
"application/javascript" and ignores IEngineSourceConfig.type; change the logic
around the Blob creation (the line returning URL.createObjectURL(new
Blob([cached], { type: ... }))) to switch the MIME type based on config.type
(use "application/wasm" for "wasm", "application/javascript" for "worker-js" and
JS-based adapters like "webgpu-compute", and a safe fallback such as
"application/octet-stream" for unknown types) so that
WebAssembly.instantiateStreaming and other consumers receive the correct
Content-Type; ensure you reference IEngineSourceConfig.type when selecting the
type and keep the existing URL.createObjectURL/new Blob flow.
```

</details>

<details>
<summary>ğŸ§¹ Nitpick comments (6)</summary><blockquote>

<details>
<summary>.github/workflows/ci.yml (1)</summary><blockquote>

`13-15`: **`matrix` ã«å˜ä¸€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿æŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚**

`node-version: [22.x]` ã®ã¿ã§ matrix ã‚’ä½¿ã†æ„å‘³ãŒè–„ã„ã§ã™ã€‚å°†æ¥çš„ã«è¤‡æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä¾‹: `[20.x, 22.x]`ï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹äºˆå®šãŒãªã‘ã‚Œã°ã€matrix ã‚’å‰Šé™¤ã—ã¦ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚ç¾çŠ¶ã®ã¾ã¾ã§ã‚‚å‹•ä½œã«æ”¯éšœã¯ãªã„ãŸã‚ã€ä»»æ„ã®æ”¹å–„ã§ã™ã€‚

</blockquote></details>
<details>
<summary>README.md (1)</summary><blockquote>

`29-38`: **`docs/DECISION_LOG.md` ã¸ã®ãƒªãƒ³ã‚¯ãŒ README.md ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚**

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ç´„ã§ã¯ã€é‡è¦ãªè¨­è¨ˆå¤‰æ›´ã¯ `docs/DECISION_LOG.md` ã« ADR (Architecture Decision Record) ã¨ã—ã¦è¨˜éŒ²ã™ã‚‹ã“ã¨ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã™ã§ã«å­˜åœ¨ã™ã‚‹ãŸã‚ã€Japanese ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¡ˆå†…ã«è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

<details>
<summary>ğŸ“ ä¿®æ­£æ¡ˆ</summary>

```diff
 ### Japanese (Primary)
 - [è¨­è¨ˆæ€æƒ³ (ARCHITECTURE.md)](docs/ARCHITECTURE.md)
 - [æŠ€è¡“ä»•æ§˜ (TECHNICAL_SPECS.md)](docs/TECHNICAL_SPECS.md)
 - [ç®¡ç†ãƒ«ãƒ¼ãƒ« (PROJECT_MANAGEMENT.md)](docs/PROJECT_MANAGEMENT.md)
 - [é€²è¡ŒçŠ¶æ³ (TASKS.md)](docs/TASKS.md) | [PROGRESS.md](docs/PROGRESS.md)
+- [æ„æ€æ±ºå®šè¨˜éŒ² (DECISION_LOG.md)](docs/DECISION_LOG.md)
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/bridge/EngineLoader.ts (1)</summary><blockquote>

`33-33`: **`cacheKey` ãŒ SRI ç©ºæ–‡å­—åˆ—æ™‚ã«è„†å¼±ãªã‚­ãƒ¼ã¨ãªã‚‹**

`config.sri` ãŒç©ºæ–‡å­—åˆ—ã®å ´åˆã€`cacheKey` ã¯ `"engineId_"` ã¨ãªã‚Šã€ãƒªã‚½ãƒ¼ã‚¹å†…å®¹ãŒå¤‰ã‚ã£ã¦ã‚‚åŒã˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒè¿”ã•ã‚Œã¾ã™ã€‚ã¾ãŸ `_` ã¯ã‚¨ãƒ³ã‚¸ãƒ³IDå†…ã«å«ã¾ã‚Œã†ã‚‹ãŸã‚ã€ã‚­ãƒ¼ã®è¡çªãƒªã‚¹ã‚¯ã‚‚ã‚ã‚Šã¾ã™ã€‚

<details>
<summary>â™»ï¸ åŒºåˆ‡ã‚Šæ–‡å­—ã®å¤‰æ›´ã¨ SRI å¿…é ˆåŒ–ã®ææ¡ˆ</summary>

```diff
-    const cacheKey = `${engineId}_${config.sri}`;
+    const cacheKey = `${engineId}::${config.sri}`;
```

æ ¹æœ¬çš„ã«ã¯ã€å‰è¿°ã® SRI ç©ºæ–‡å­—åˆ—ãƒã‚§ãƒƒã‚¯ä¿®æ­£ã¨åˆã‚ã›ã¦å¯¾å¿œã™ã‚‹ã“ã¨ã§ã€ç©º SRI ã§ã“ã®ãƒ‘ã‚¹ã«åˆ°é”ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ã®ãŒæœ›ã¾ã—ã„ã§ã™ã€‚
</details>

</blockquote></details>
<details>
<summary>packages/core/src/storage/OPFSStorage.ts (2)</summary><blockquote>

`33-43`: **`get()` ãŒã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’æ¡ã‚Šã¤ã¶ã—ã¦ `null` ã‚’è¿”ã™**

ãƒ•ã‚¡ã‚¤ãƒ«æœªå­˜åœ¨ã®å ´åˆã« `null` ã‚’è¿”ã™ã®ã¯é©åˆ‡ã§ã™ãŒã€`catch` ãŒä¾‹å¤–ã®ç¨®é¡ã‚’åŒºåˆ¥ã—ã¦ã„ãªã„ãŸã‚ã€æ¨©é™ã‚¨ãƒ©ãƒ¼ã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç ´æç­‰ã®æ·±åˆ»ãªã‚¨ãƒ©ãƒ¼ã‚‚ `null` ã¨ã—ã¦ç„¡è¦–ã•ã‚Œã¾ã™ã€‚ãƒ‡ãƒãƒƒã‚°æ™‚ã«åŸå› ç‰¹å®šãŒå›°é›£ã«ãªã‚Šã¾ã™ã€‚

<details>
<summary>â™»ï¸ NotFoundError ã®ã¿ null ã‚’è¿”ã—ã€ãã®ä»–ã¯å†é€å‡ºã™ã‚‹ææ¡ˆ</summary>

```diff
   async get(key: string): Promise<ArrayBuffer | null> {
     try {
       const root = await this.getRoot();
       const fileHandle = await root.getFileHandle(key);
       const file = await fileHandle.getFile();
       return await file.arrayBuffer();
-    } catch {
-      // ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ null ã‚’è¿”ã™
-      return null;
+    } catch (err) {
+      if (err instanceof DOMException && err.name === 'NotFoundError') {
+        return null;
+      }
+      throw err;
     }
   }
```
</details>

---

`64-78`: **`clear()` ã§ `keys()` ãŒæœªã‚µãƒãƒ¼ãƒˆã®å ´åˆã€ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ç•™ã—ã‚µã‚¤ãƒ¬ãƒ³ãƒˆã«æˆåŠŸã™ã‚‹**

`keys()` ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ç’°å¢ƒã§ã¯ã€`clear()` ãŒä½•ã‚‚å‰Šé™¤ã›ãšã«æ­£å¸¸çµ‚äº†ã—ã¾ã™ã€‚å‘¼ã³å‡ºã—å´ã¯å…¨ãƒ‡ãƒ¼ã‚¿ãŒå‰Šé™¤ã•ã‚ŒãŸã¨èªè­˜ã—ã¾ã™ãŒã€å®Ÿéš›ã«ã¯ãƒ‡ãƒ¼ã‚¿ãŒæ®‹å­˜ã—ã¾ã™ã€‚ã¾ãŸã€å€‹åˆ¥ã® `removeEntry` ãŒé€”ä¸­ã§å¤±æ•—ã—ãŸå ´åˆã«å¾Œç¶šã®ã‚¨ãƒ³ãƒˆãƒªãŒæœªå‰Šé™¤ã®ã¾ã¾æ®‹ã‚Šã¾ã™ã€‚

<details>
<summary>â™»ï¸ æœªã‚µãƒãƒ¼ãƒˆæ™‚ã®è­¦å‘Šã¨éƒ¨åˆ†å¤±æ•—ã®è€æ€§å‘ä¸Š</summary>

```diff
   async clear(): Promise<void> {
     const root = await this.getRoot();
     // eslint-disable-next-line `@typescript-eslint/no-explicit-any`
     if ('keys' in root && typeof (root as any).keys === 'function') {
       // eslint-disable-next-line `@typescript-eslint/no-explicit-any`
       for await (const name of (root as any).keys()) {
-        await root.removeEntry(name, { recursive: true });
+        try {
+          await root.removeEntry(name, { recursive: true });
+        } catch {
+          // å€‹åˆ¥ã‚¨ãƒ³ãƒˆãƒªã®å‰Šé™¤å¤±æ•—ã¯ä»–ã«å½±éŸ¿ã•ã›ãªã„
+        }
       }
+    } else {
+      console.warn('[OPFSStorage] clear() is not supported: directory.keys() unavailable');
     }
   }
```
</details>

</blockquote></details>
<details>
<summary>packages/core/src/bridge/EngineBridge.ts (1)</summary><blockquote>

`162-168`: **`use()` ãŒæ—¢å­˜ã® Facade ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–ã—ãªã„**

Line 164 ã®ã‚³ãƒ¡ãƒ³ãƒˆã§ã€Œæ—¢ç”Ÿæˆæ¸ˆã¿ã® Facade ã«ã¯åæ˜ ã•ã‚Œã¾ã›ã‚“ã€ã¨æ–‡æ›¸åŒ–ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒå…¨ã‚¨ãƒ³ã‚¸ãƒ³ã«é©ç”¨ã•ã‚Œã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªæ©Ÿèƒ½ã§ã‚ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã€ã“ã®æŒ™å‹•ã¯åˆ©ç”¨è€…ã«ã¨ã£ã¦äºˆæœŸã—ã«ãã„ã§ã™ã€‚

ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã‹ã€å°‘ãªãã¨ã‚‚ Facade ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã«è­¦å‘Šã‚’å‡ºã™ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>â™»ï¸ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ã®ææ¡ˆ</summary>

```diff
   use<T_INFO = unknown, T_RESULT = unknown>(middleware: IMiddleware<T_INFO, T_RESULT>): void {
     this.middlewares.push(middleware);
+    // æ–°ã—ã„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’åæ˜ ã™ã‚‹ãŸã‚ã€æ—¢å­˜ã® Facade ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
+    this.facades.clear();
   }
```
</details>

</blockquote></details>

</blockquote></details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->
--
author:	hdkz-dev
association:	owner
edited:	false
status:	none
--
/gemini review
--
author:	gemini-code-assist
association:	none
edited:	false
status:	commented
--
## Code Review

ã“ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€ã‚³ã‚¢ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨Stockfishã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’å®Ÿè£…ã™ã‚‹å¤§ããªé€²æ­©ã§ã™ã€‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€Facadeãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®æ›´æ–°ã€Branded Typesã‚„ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã«ã‚ˆã‚‹å …ç‰¢ãªå‹å®‰å…¨æ€§ãªã©ã€ç¾ä»£çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã£ã¦éå¸¸ã«ã‚ˆãè¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€é–¢å¿ƒã®åˆ†é›¢ã‚‚æ˜ç¢ºã§ã™ã€‚ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨å‹•ä½œã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ç‚¹ã‚‚ç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚ã—ã‹ã—ã€ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ‘ãƒ¼ã‚µãƒ¼ã«ãŠã‘ã‚‹æ½œåœ¨çš„ãªUCIã‚³ãƒãƒ³ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã¨ã€Stockfishã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼è¨­å®šã«ãŠã‘ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®SRIãƒãƒªã‚·ãƒ¼é•åã¨ã„ã†2ã¤ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡ŒãŒç‰¹å®šã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®å•é¡Œã«å¯¾å‡¦ã™ã‚‹ã“ã¨ã§ã€ã‚¨ãƒ³ã‚¸ãƒ³é€šä¿¡ã¨ãƒªã‚½ãƒ¼ã‚¹èª­ã¿è¾¼ã¿ã®å …ç‰¢æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒç¢ºä¿ã•ã‚Œã¾ã™ã€‚ã¾ãŸã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ãƒã‚°ãŒ1ä»¶ã¨ã€ã‚³ãƒ¼ãƒ‰ã®æ˜ç¢ºæ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®ææ¡ˆãŒ1ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚å…¨ä½“ã¨ã—ã¦ã€ã“ã‚Œã¯è³ªã®é«˜ã„è²¢çŒ®ã§ã™ã€‚
--
